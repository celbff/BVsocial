function $p(a,n){for(var s=0;s<n.length;s++){const o=n[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function ul(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Up(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var s=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var l=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return a[o]}})}),s}var $a={exports:{}},us={},Ua={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function Dp(){if(hd)return ie;hd=1;var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function E(j,A,ne){this.props=j,this.context=A,this.refs=P,this.updater=ne||T}E.prototype.isReactComponent={},E.prototype.setState=function(j,A){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,A,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=E.prototype;function V(j,A,ne){this.props=j,this.context=A,this.refs=P,this.updater=ne||T}var U=V.prototype=new M;U.constructor=V,R(U,E.prototype),U.isPureReactComponent=!0;var L=Array.isArray,B=Object.prototype.hasOwnProperty,Z={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Se(j,A,ne){var oe,ue={},ce=null,pe=null;if(A!=null)for(oe in A.ref!==void 0&&(pe=A.ref),A.key!==void 0&&(ce=""+A.key),A)B.call(A,oe)&&!se.hasOwnProperty(oe)&&(ue[oe]=A[oe]);var he=arguments.length-2;if(he===1)ue.children=ne;else if(1<he){for(var we=Array(he),tt=0;tt<he;tt++)we[tt]=arguments[tt+2];ue.children=we}if(j&&j.defaultProps)for(oe in he=j.defaultProps,he)ue[oe]===void 0&&(ue[oe]=he[oe]);return{$$typeof:a,type:j,key:ce,ref:pe,props:ue,_owner:Z.current}}function pt(j,A){return{$$typeof:a,type:j.type,key:A,ref:j.ref,props:j.props,_owner:j._owner}}function ot(j){return typeof j=="object"&&j!==null&&j.$$typeof===a}function Ct(j){var A={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ne){return A[ne]})}var bt=/\/+/g;function et(j,A){return typeof j=="object"&&j!==null&&j.key!=null?Ct(""+j.key):A.toString(36)}function mt(j,A,ne,oe,ue){var ce=typeof j;(ce==="undefined"||ce==="boolean")&&(j=null);var pe=!1;if(j===null)pe=!0;else switch(ce){case"string":case"number":pe=!0;break;case"object":switch(j.$$typeof){case a:case n:pe=!0}}if(pe)return pe=j,ue=ue(pe),j=oe===""?"."+et(pe,0):oe,L(ue)?(ne="",j!=null&&(ne=j.replace(bt,"$&/")+"/"),mt(ue,A,ne,"",function(tt){return tt})):ue!=null&&(ot(ue)&&(ue=pt(ue,ne+(!ue.key||pe&&pe.key===ue.key?"":(""+ue.key).replace(bt,"$&/")+"/")+j)),A.push(ue)),1;if(pe=0,oe=oe===""?".":oe+":",L(j))for(var he=0;he<j.length;he++){ce=j[he];var we=oe+et(ce,he);pe+=mt(ce,A,ne,we,ue)}else if(we=S(j),typeof we=="function")for(j=we.call(j),he=0;!(ce=j.next()).done;)ce=ce.value,we=oe+et(ce,he++),pe+=mt(ce,A,ne,we,ue);else if(ce==="object")throw A=String(j),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return pe}function Pt(j,A,ne){if(j==null)return j;var oe=[],ue=0;return mt(j,oe,"","",function(ce){return A.call(ne,ce,ue++)}),oe}function Ke(j){if(j._status===-1){var A=j._result;A=A(),A.then(function(ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=ne)},function(ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=ne)}),j._status===-1&&(j._status=0,j._result=A)}if(j._status===1)return j._result.default;throw j._result}var Ee={current:null},F={transition:null},ee={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:F,ReactCurrentOwner:Z};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:Pt,forEach:function(j,A,ne){Pt(j,function(){A.apply(this,arguments)},ne)},count:function(j){var A=0;return Pt(j,function(){A++}),A},toArray:function(j){return Pt(j,function(A){return A})||[]},only:function(j){if(!ot(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ie.Component=E,ie.Fragment=s,ie.Profiler=l,ie.PureComponent=V,ie.StrictMode=o,ie.Suspense=m,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ie.act=q,ie.cloneElement=function(j,A,ne){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var oe=R({},j.props),ue=j.key,ce=j.ref,pe=j._owner;if(A!=null){if(A.ref!==void 0&&(ce=A.ref,pe=Z.current),A.key!==void 0&&(ue=""+A.key),j.type&&j.type.defaultProps)var he=j.type.defaultProps;for(we in A)B.call(A,we)&&!se.hasOwnProperty(we)&&(oe[we]=A[we]===void 0&&he!==void 0?he[we]:A[we])}var we=arguments.length-2;if(we===1)oe.children=ne;else if(1<we){he=Array(we);for(var tt=0;tt<we;tt++)he[tt]=arguments[tt+2];oe.children=he}return{$$typeof:a,type:j.type,key:ue,ref:ce,props:oe,_owner:pe}},ie.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:c,_context:j},j.Consumer=j},ie.createElement=Se,ie.createFactory=function(j){var A=Se.bind(null,j);return A.type=j,A},ie.createRef=function(){return{current:null}},ie.forwardRef=function(j){return{$$typeof:f,render:j}},ie.isValidElement=ot,ie.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:Ke}},ie.memo=function(j,A){return{$$typeof:v,type:j,compare:A===void 0?null:A}},ie.startTransition=function(j){var A=F.transition;F.transition={};try{j()}finally{F.transition=A}},ie.unstable_act=q,ie.useCallback=function(j,A){return Ee.current.useCallback(j,A)},ie.useContext=function(j){return Ee.current.useContext(j)},ie.useDebugValue=function(){},ie.useDeferredValue=function(j){return Ee.current.useDeferredValue(j)},ie.useEffect=function(j,A){return Ee.current.useEffect(j,A)},ie.useId=function(){return Ee.current.useId()},ie.useImperativeHandle=function(j,A,ne){return Ee.current.useImperativeHandle(j,A,ne)},ie.useInsertionEffect=function(j,A){return Ee.current.useInsertionEffect(j,A)},ie.useLayoutEffect=function(j,A){return Ee.current.useLayoutEffect(j,A)},ie.useMemo=function(j,A){return Ee.current.useMemo(j,A)},ie.useReducer=function(j,A,ne){return Ee.current.useReducer(j,A,ne)},ie.useRef=function(j){return Ee.current.useRef(j)},ie.useState=function(j){return Ee.current.useState(j)},ie.useSyncExternalStore=function(j,A,ne){return Ee.current.useSyncExternalStore(j,A,ne)},ie.useTransition=function(){return Ee.current.useTransition()},ie.version="18.3.1",ie}var fd;function cl(){return fd||(fd=1,Ua.exports=Dp()),Ua.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function zp(){if(pd)return us;pd=1;var a=cl(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,v){var y,w={},S=null,T=null;v!==void 0&&(S=""+v),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(T=m.ref);for(y in m)o.call(m,y)&&!c.hasOwnProperty(y)&&(w[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:n,type:f,key:S,ref:T,props:w,_owner:l.current}}return us.Fragment=s,us.jsx=h,us.jsxs=h,us}var md;function Mp(){return md||(md=1,$a.exports=zp()),$a.exports}var g=Mp(),O=cl();const eh=ul(O),Bp=$p({__proto__:null,default:eh},[O]);var Oi={},Da={exports:{}},Ze={},za={exports:{}},Ma={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function Fp(){return gd||(gd=1,(function(a){function n(F,ee){var q=F.length;F.push(ee);e:for(;0<q;){var j=q-1>>>1,A=F[j];if(0<l(A,ee))F[j]=ee,F[q]=A,q=j;else break e}}function s(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var ee=F[0],q=F.pop();if(q!==ee){F[0]=q;e:for(var j=0,A=F.length,ne=A>>>1;j<ne;){var oe=2*(j+1)-1,ue=F[oe],ce=oe+1,pe=F[ce];if(0>l(ue,q))ce<A&&0>l(pe,ue)?(F[j]=pe,F[ce]=q,j=ce):(F[j]=ue,F[oe]=q,j=oe);else if(ce<A&&0>l(pe,q))F[j]=pe,F[ce]=q,j=ce;else break e}}return ee}function l(F,ee){var q=F.sortIndex-ee.sortIndex;return q!==0?q:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();a.unstable_now=function(){return h.now()-f}}var m=[],v=[],y=1,w=null,S=3,T=!1,R=!1,P=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(F){for(var ee=s(v);ee!==null;){if(ee.callback===null)o(v);else if(ee.startTime<=F)o(v),ee.sortIndex=ee.expirationTime,n(m,ee);else break;ee=s(v)}}function L(F){if(P=!1,U(F),!R)if(s(m)!==null)R=!0,Ke(B);else{var ee=s(v);ee!==null&&Ee(L,ee.startTime-F)}}function B(F,ee){R=!1,P&&(P=!1,M(Se),Se=-1),T=!0;var q=S;try{for(U(ee),w=s(m);w!==null&&(!(w.expirationTime>ee)||F&&!Ct());){var j=w.callback;if(typeof j=="function"){w.callback=null,S=w.priorityLevel;var A=j(w.expirationTime<=ee);ee=a.unstable_now(),typeof A=="function"?w.callback=A:w===s(m)&&o(m),U(ee)}else o(m);w=s(m)}if(w!==null)var ne=!0;else{var oe=s(v);oe!==null&&Ee(L,oe.startTime-ee),ne=!1}return ne}finally{w=null,S=q,T=!1}}var Z=!1,se=null,Se=-1,pt=5,ot=-1;function Ct(){return!(a.unstable_now()-ot<pt)}function bt(){if(se!==null){var F=a.unstable_now();ot=F;var ee=!0;try{ee=se(!0,F)}finally{ee?et():(Z=!1,se=null)}}else Z=!1}var et;if(typeof V=="function")et=function(){V(bt)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Pt=mt.port2;mt.port1.onmessage=bt,et=function(){Pt.postMessage(null)}}else et=function(){E(bt,0)};function Ke(F){se=F,Z||(Z=!0,et())}function Ee(F,ee){Se=E(function(){F(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_continueExecution=function(){R||T||(R=!0,Ke(B))},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_getFirstCallbackNode=function(){return s(m)},a.unstable_next=function(F){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var q=S;S=ee;try{return F()}finally{S=q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=S;S=F;try{return ee()}finally{S=q}},a.unstable_scheduleCallback=function(F,ee,q){var j=a.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?j+q:j):q=j,F){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,F={id:y++,callback:ee,priorityLevel:F,startTime:q,expirationTime:A,sortIndex:-1},q>j?(F.sortIndex=q,n(v,F),s(m)===null&&F===s(v)&&(P?(M(Se),Se=-1):P=!0,Ee(L,q-j))):(F.sortIndex=A,n(m,F),R||T||(R=!0,Ke(B))),F},a.unstable_shouldYield=Ct,a.unstable_wrapCallback=function(F){var ee=S;return function(){var q=S;S=ee;try{return F.apply(this,arguments)}finally{S=q}}}})(Ma)),Ma}var vd;function Wp(){return vd||(vd=1,za.exports=Fp()),za.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function Vp(){if(yd)return Ze;yd=1;var a=cl(),n=Wp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function S(e){return m.call(w,e)?!0:m.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function T(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,r,i){if(t===null||typeof t>"u"||T(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,r,i,u,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,V);E[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,V);E[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,V);E[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,r,i){var u=E.hasOwnProperty(t)?E[t]:null;(u!==null?u.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,r,u,i)&&(r=null),i||u===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,i=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var L=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),Z=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),Ct=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),F=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,j;function A(e){if(j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var ne=!1;function oe(e,t){if(!e||ne)return"";ne=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var i=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){i=N}e.call(t.prototype)}else{try{throw Error()}catch(N){i=N}e()}}catch(N){if(N&&i&&typeof N.stack=="string"){for(var u=N.stack.split(`
`),d=i.stack.split(`
`),p=u.length-1,_=d.length-1;1<=p&&0<=_&&u[p]!==d[_];)_--;for(;1<=p&&0<=_;p--,_--)if(u[p]!==d[_]){if(p!==1||_!==1)do if(p--,_--,0>_||u[p]!==d[_]){var x=`
`+u[p].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=p&&0<=_);break}}}finally{ne=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A(e):""}function ue(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case Z:return"Portal";case pt:return"Profiler";case Se:return"StrictMode";case et:return"Suspense";case mt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ct:return(e.displayName||"Context")+".Consumer";case ot:return(e._context.displayName||"Context")+".Provider";case bt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Ke:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tt(e){var t=we(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){i=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=tt(e))}function yl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fi(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wl(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=he(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _l(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function Wi(e,t){_l(e,t);var r=he(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vi(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vi(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vi(e,t,r){(t!=="number"||ks(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var En=Array.isArray;function $r(e,t,r,i){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+he(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Hi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(En(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:he(r)}}function Sl(e,t){var r=he(t.value),i=he(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function El(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,Cl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zh=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){zh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function bl(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function Pl(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,u=bl(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,u):e[r]=u}}var Mh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ki(e,t){if(t){if(Mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function Qi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yi=null,Ur=null,Dr=null;function Nl(e){if(e=Jn(e)){if(typeof Yi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=qs(t),Yi(e.stateNode,e.type,t))}}function Tl(e){Ur?Dr?Dr.push(e):Dr=[e]:Ur=e}function Ol(){if(Ur){var e=Ur,t=Dr;if(Dr=Ur=null,Nl(e),t)for(e=0;e<t.length;e++)Nl(t[e])}}function Rl(e,t){return e(t)}function Ll(){}var Xi=!1;function Il(e,t,r){if(Xi)return e(t,r);Xi=!0;try{return Rl(e,t,r)}finally{Xi=!1,(Ur!==null||Dr!==null)&&(Ll(),Ol())}}function bn(e,t){var r=e.stateNode;if(r===null)return null;var i=qs(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Zi=!1;if(f)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Zi=!1}function Bh(e,t,r,i,u,d,p,_,x){var N=Array.prototype.slice.call(arguments,3);try{t.apply(r,N)}catch($){this.onError($)}}var Nn=!1,Es=null,js=!1,eo=null,Fh={onError:function(e){Nn=!0,Es=e}};function Wh(e,t,r,i,u,d,p,_,x){Nn=!1,Es=null,Bh.apply(Fh,arguments)}function Vh(e,t,r,i,u,d,p,_,x){if(Wh.apply(this,arguments),Nn){if(Nn){var N=Es;Nn=!1,Es=null}else throw Error(s(198));js||(js=!0,eo=N)}}function vr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Al(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $l(e){if(vr(e)!==e)throw Error(s(188))}function Hh(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return $l(u),e;if(d===i)return $l(u),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=u,i=d;else{for(var p=!1,_=u.child;_;){if(_===r){p=!0,r=u,i=d;break}if(_===i){p=!0,i=u,r=d;break}_=_.sibling}if(!p){for(_=d.child;_;){if(_===r){p=!0,r=d,i=u;break}if(_===i){p=!0,i=d,r=u;break}_=_.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Ul(e){return e=Hh(e),e!==null?Dl(e):null}function Dl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dl(e);if(t!==null)return t;e=e.sibling}return null}var zl=n.unstable_scheduleCallback,Ml=n.unstable_cancelCallback,qh=n.unstable_shouldYield,Kh=n.unstable_requestPaint,Ce=n.unstable_now,Jh=n.unstable_getCurrentPriorityLevel,to=n.unstable_ImmediatePriority,Bl=n.unstable_UserBlockingPriority,Cs=n.unstable_NormalPriority,Gh=n.unstable_LowPriority,Fl=n.unstable_IdlePriority,bs=null,Nt=null;function Qh(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(bs,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Zh,Yh=Math.log,Xh=Math.LN2;function Zh(e){return e>>>=0,e===0?32:31-(Yh(e)/Xh|0)|0}var Ps=64,Ns=4194304;function Tn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,u=e.suspendedLanes,d=e.pingedLanes,p=r&268435455;if(p!==0){var _=p&~u;_!==0?i=Tn(_):(d&=p,d!==0&&(i=Tn(d)))}else p=r&~u,p!==0?i=Tn(p):d!==0&&(i=Tn(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&u)===0&&(u=i&-i,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-gt(t),u=1<<r,i|=e[r],t&=~u;return i}function ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-gt(d),_=1<<p,x=u[p];x===-1?((_&r)===0||(_&i)!==0)&&(u[p]=ef(_,t)):x<=t&&(e.expiredLanes|=_),d&=~_}}function ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wl(){var e=Ps;return Ps<<=1,(Ps&4194240)===0&&(Ps=64),e}function no(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function On(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=r}function rf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-gt(r),d=1<<u;t[u]=0,i[u]=-1,e[u]=-1,r&=~d}}function so(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-gt(r),u=1<<i;u&t|e[i]&t&&(e[i]|=t),r&=~u}}var fe=0;function Vl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hl,io,ql,Kl,Jl,oo=!1,Os=[],qt=null,Kt=null,Jt=null,Rn=new Map,Ln=new Map,Gt=[],nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function In(e,t,r,i,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Jn(t),t!==null&&io(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function sf(e,t,r,i,u){switch(t){case"focusin":return qt=In(qt,e,t,r,i,u),!0;case"dragenter":return Kt=In(Kt,e,t,r,i,u),!0;case"mouseover":return Jt=In(Jt,e,t,r,i,u),!0;case"pointerover":var d=u.pointerId;return Rn.set(d,In(Rn.get(d)||null,e,t,r,i,u)),!0;case"gotpointercapture":return d=u.pointerId,Ln.set(d,In(Ln.get(d)||null,e,t,r,i,u)),!0}return!1}function Ql(e){var t=yr(e.target);if(t!==null){var r=vr(t);if(r!==null){if(t=r.tag,t===13){if(t=Al(r),t!==null){e.blockedOn=t,Jl(e.priority,function(){ql(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Gi=i,r.target.dispatchEvent(i),Gi=null}else return t=Jn(r),t!==null&&io(t),e.blockedOn=r,!1;t.shift()}return!0}function Yl(e,t,r){Rs(e)&&r.delete(t)}function of(){oo=!1,qt!==null&&Rs(qt)&&(qt=null),Kt!==null&&Rs(Kt)&&(Kt=null),Jt!==null&&Rs(Jt)&&(Jt=null),Rn.forEach(Yl),Ln.forEach(Yl)}function An(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,of)))}function $n(e){function t(u){return An(u,e)}if(0<Os.length){An(Os[0],e);for(var r=1;r<Os.length;r++){var i=Os[r];i.blockedOn===e&&(i.blockedOn=null)}}for(qt!==null&&An(qt,e),Kt!==null&&An(Kt,e),Jt!==null&&An(Jt,e),Rn.forEach(t),Ln.forEach(t),r=0;r<Gt.length;r++)i=Gt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)Ql(r),r.blockedOn===null&&Gt.shift()}var zr=L.ReactCurrentBatchConfig,Ls=!0;function af(e,t,r,i){var u=fe,d=zr.transition;zr.transition=null;try{fe=1,ao(e,t,r,i)}finally{fe=u,zr.transition=d}}function lf(e,t,r,i){var u=fe,d=zr.transition;zr.transition=null;try{fe=4,ao(e,t,r,i)}finally{fe=u,zr.transition=d}}function ao(e,t,r,i){if(Ls){var u=lo(e,t,r,i);if(u===null)Co(e,t,i,Is,r),Gl(e,i);else if(sf(u,e,t,r,i))i.stopPropagation();else if(Gl(e,i),t&4&&-1<nf.indexOf(e)){for(;u!==null;){var d=Jn(u);if(d!==null&&Hl(d),d=lo(e,t,r,i),d===null&&Co(e,t,i,Is,r),d===u)break;u=d}u!==null&&i.stopPropagation()}else Co(e,t,i,null,r)}}var Is=null;function lo(e,t,r,i){if(Is=null,e=Qi(i),e=yr(e),e!==null)if(t=vr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Al(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Is=e,null}function Xl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jh()){case to:return 1;case Bl:return 4;case Cs:case Gh:return 16;case Fl:return 536870912;default:return 16}default:return 16}}var Qt=null,uo=null,As=null;function Zl(){if(As)return As;var e,t=uo,r=t.length,i,u="value"in Qt?Qt.value:Qt.textContent,d=u.length;for(e=0;e<r&&t[e]===u[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===u[d-i];i++);return As=u.slice(e,1<i?1-i:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function eu(){return!1}function rt(e){function t(r,i,u,d,p){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Us:eu,this.isPropagationStopped=eu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=rt(Mr),Un=q({},Mr,{view:0,detail:0}),uf=rt(Un),ho,fo,Dn,Ds=q({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dn&&(Dn&&e.type==="mousemove"?(ho=e.screenX-Dn.screenX,fo=e.screenY-Dn.screenY):fo=ho=0,Dn=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),tu=rt(Ds),cf=q({},Ds,{dataTransfer:0}),df=rt(cf),hf=q({},Un,{relatedTarget:0}),po=rt(hf),ff=q({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),pf=rt(ff),mf=q({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gf=rt(mf),vf=q({},Mr,{data:0}),ru=rt(vf),yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_f[e])?!!t[e]:!1}function mo(){return xf}var kf=q({},Un,{key:function(e){if(e.key){var t=yf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sf=rt(kf),Ef=q({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=rt(Ef),jf=q({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Cf=rt(jf),bf=q({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=rt(bf),Nf=q({},Ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tf=rt(Nf),Of=[9,13,27,32],go=f&&"CompositionEvent"in window,zn=null;f&&"documentMode"in document&&(zn=document.documentMode);var Rf=f&&"TextEvent"in window&&!zn,su=f&&(!go||zn&&8<zn&&11>=zn),iu=" ",ou=!1;function au(e,t){switch(e){case"keyup":return Of.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function Lf(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(ou=!0,iu);case"textInput":return e=t.data,e===iu&&ou?null:e;default:return null}}function If(e,t){if(Br)return e==="compositionend"||!go&&au(e,t)?(e=Zl(),As=uo=Qt=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return su&&t.locale!=="ko"?null:t.data;default:return null}}var Af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Af[e.type]:t==="textarea"}function cu(e,t,r,i){Tl(i),t=Ws(t,"onChange"),0<t.length&&(r=new co("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Mn=null,Bn=null;function $f(e){Pu(e,0)}function zs(e){var t=qr(e);if(yl(t))return e}function Uf(e,t){if(e==="change")return t}var du=!1;if(f){var vo;if(f){var yo="oninput"in document;if(!yo){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),yo=typeof hu.oninput=="function"}vo=yo}else vo=!1;du=vo&&(!document.documentMode||9<document.documentMode)}function fu(){Mn&&(Mn.detachEvent("onpropertychange",pu),Bn=Mn=null)}function pu(e){if(e.propertyName==="value"&&zs(Bn)){var t=[];cu(t,Bn,e,Qi(e)),Il($f,t)}}function Df(e,t,r){e==="focusin"?(fu(),Mn=t,Bn=r,Mn.attachEvent("onpropertychange",pu)):e==="focusout"&&fu()}function zf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zs(Bn)}function Mf(e,t){if(e==="click")return zs(t)}function Bf(e,t){if(e==="input"||e==="change")return zs(t)}function Ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Ff;function Fn(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!m.call(t,u)||!vt(e[u],t[u]))return!1}return!0}function mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var r=mu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mu(r)}}function vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yu(){for(var e=window,t=ks();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ks(e.document)}return t}function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wf(e){var t=yu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vu(r.ownerDocument.documentElement,r)){if(i!==null&&wo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,d=Math.min(i.start,u);i=i.end===void 0?d:Math.min(i.end,u),!e.extend&&d>i&&(u=i,i=d,d=u),u=gu(r,d);var p=gu(r,i);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vf=f&&"documentMode"in document&&11>=document.documentMode,Fr=null,_o=null,Wn=null,xo=!1;function wu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xo||Fr==null||Fr!==ks(i)||(i=Fr,"selectionStart"in i&&wo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wn&&Fn(Wn,i)||(Wn=i,i=Ws(_o,"onSelect"),0<i.length&&(t=new co("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Fr)))}function Ms(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},ko={},_u={};f&&(_u=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Bs(e){if(ko[e])return ko[e];if(!Wr[e])return e;var t=Wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _u)return ko[e]=t[r];return e}var xu=Bs("animationend"),ku=Bs("animationiteration"),Su=Bs("animationstart"),Eu=Bs("transitionend"),ju=new Map,Cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){ju.set(e,t),c(t,[e])}for(var So=0;So<Cu.length;So++){var Eo=Cu[So],Hf=Eo.toLowerCase(),qf=Eo[0].toUpperCase()+Eo.slice(1);Yt(Hf,"on"+qf)}Yt(xu,"onAnimationEnd"),Yt(ku,"onAnimationIteration"),Yt(Su,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Eu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function bu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Vh(i,t,void 0,e),e.currentTarget=null}function Pu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var p=i.length-1;0<=p;p--){var _=i[p],x=_.instance,N=_.currentTarget;if(_=_.listener,x!==d&&u.isPropagationStopped())break e;bu(u,_,N),d=x}else for(p=0;p<i.length;p++){if(_=i[p],x=_.instance,N=_.currentTarget,_=_.listener,x!==d&&u.isPropagationStopped())break e;bu(u,_,N),d=x}}}if(js)throw e=eo,js=!1,eo=null,e}function ve(e,t){var r=t[Ro];r===void 0&&(r=t[Ro]=new Set);var i=e+"__bubble";r.has(i)||(Nu(t,e,2,!1),r.add(i))}function jo(e,t,r){var i=0;t&&(i|=4),Nu(r,e,i,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[Fs]){e[Fs]=!0,o.forEach(function(r){r!=="selectionchange"&&(Kf.has(r)||jo(r,!1,e),jo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,jo("selectionchange",!1,t))}}function Nu(e,t,r,i){switch(Xl(t)){case 1:var u=af;break;case 4:u=lf;break;default:u=ao}r=u.bind(null,t,r,e),u=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Co(e,t,r,i,u){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var _=i.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(p===4)for(p=i.return;p!==null;){var x=p.tag;if((x===3||x===4)&&(x=p.stateNode.containerInfo,x===u||x.nodeType===8&&x.parentNode===u))return;p=p.return}for(;_!==null;){if(p=yr(_),p===null)return;if(x=p.tag,x===5||x===6){i=d=p;continue e}_=_.parentNode}}i=i.return}Il(function(){var N=d,$=Qi(r),D=[];e:{var I=ju.get(e);if(I!==void 0){var W=co,K=e;switch(e){case"keypress":if($s(r)===0)break e;case"keydown":case"keyup":W=Sf;break;case"focusin":K="focus",W=po;break;case"focusout":K="blur",W=po;break;case"beforeblur":case"afterblur":W=po;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Cf;break;case xu:case ku:case Su:W=pf;break;case Eu:W=Pf;break;case"scroll":W=uf;break;case"wheel":W=Tf;break;case"copy":case"cut":case"paste":W=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=nu}var J=(t&4)!==0,be=!J&&e==="scroll",C=J?I!==null?I+"Capture":null:I;J=[];for(var k=N,b;k!==null;){b=k;var z=b.stateNode;if(b.tag===5&&z!==null&&(b=z,C!==null&&(z=bn(k,C),z!=null&&J.push(qn(k,z,b)))),be)break;k=k.return}0<J.length&&(I=new W(I,K,null,r,$),D.push({event:I,listeners:J}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",I&&r!==Gi&&(K=r.relatedTarget||r.fromElement)&&(yr(K)||K[At]))break e;if((W||I)&&(I=$.window===$?$:(I=$.ownerDocument)?I.defaultView||I.parentWindow:window,W?(K=r.relatedTarget||r.toElement,W=N,K=K?yr(K):null,K!==null&&(be=vr(K),K!==be||K.tag!==5&&K.tag!==6)&&(K=null)):(W=null,K=N),W!==K)){if(J=tu,z="onMouseLeave",C="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(J=nu,z="onPointerLeave",C="onPointerEnter",k="pointer"),be=W==null?I:qr(W),b=K==null?I:qr(K),I=new J(z,k+"leave",W,r,$),I.target=be,I.relatedTarget=b,z=null,yr($)===N&&(J=new J(C,k+"enter",K,r,$),J.target=b,J.relatedTarget=be,z=J),be=z,W&&K)t:{for(J=W,C=K,k=0,b=J;b;b=Vr(b))k++;for(b=0,z=C;z;z=Vr(z))b++;for(;0<k-b;)J=Vr(J),k--;for(;0<b-k;)C=Vr(C),b--;for(;k--;){if(J===C||C!==null&&J===C.alternate)break t;J=Vr(J),C=Vr(C)}J=null}else J=null;W!==null&&Tu(D,I,W,J,!1),K!==null&&be!==null&&Tu(D,be,K,J,!0)}}e:{if(I=N?qr(N):window,W=I.nodeName&&I.nodeName.toLowerCase(),W==="select"||W==="input"&&I.type==="file")var G=Uf;else if(uu(I))if(du)G=Bf;else{G=zf;var Y=Df}else(W=I.nodeName)&&W.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(G=Mf);if(G&&(G=G(e,N))){cu(D,G,r,$);break e}Y&&Y(e,I,N),e==="focusout"&&(Y=I._wrapperState)&&Y.controlled&&I.type==="number"&&Vi(I,"number",I.value)}switch(Y=N?qr(N):window,e){case"focusin":(uu(Y)||Y.contentEditable==="true")&&(Fr=Y,_o=N,Wn=null);break;case"focusout":Wn=_o=Fr=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,wu(D,r,$);break;case"selectionchange":if(Vf)break;case"keydown":case"keyup":wu(D,r,$)}var X;if(go)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Br?au(e,r)&&(te="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(te="onCompositionStart");te&&(su&&r.locale!=="ko"&&(Br||te!=="onCompositionStart"?te==="onCompositionEnd"&&Br&&(X=Zl()):(Qt=$,uo="value"in Qt?Qt.value:Qt.textContent,Br=!0)),Y=Ws(N,te),0<Y.length&&(te=new ru(te,e,null,r,$),D.push({event:te,listeners:Y}),X?te.data=X:(X=lu(r),X!==null&&(te.data=X)))),(X=Rf?Lf(e,r):If(e,r))&&(N=Ws(N,"onBeforeInput"),0<N.length&&($=new ru("onBeforeInput","beforeinput",null,r,$),D.push({event:$,listeners:N}),$.data=X))}Pu(D,t)})}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ws(e,t){for(var r=t+"Capture",i=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=bn(e,r),d!=null&&i.unshift(qn(e,d,u)),d=bn(e,t),d!=null&&i.push(qn(e,d,u))),e=e.return}return i}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tu(e,t,r,i,u){for(var d=t._reactName,p=[];r!==null&&r!==i;){var _=r,x=_.alternate,N=_.stateNode;if(x!==null&&x===i)break;_.tag===5&&N!==null&&(_=N,u?(x=bn(r,d),x!=null&&p.unshift(qn(r,x,_))):u||(x=bn(r,d),x!=null&&p.push(qn(r,x,_)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var Jf=/\r\n?/g,Gf=/\u0000|\uFFFD/g;function Ou(e){return(typeof e=="string"?e:""+e).replace(Jf,`
`).replace(Gf,"")}function Vs(e,t,r){if(t=Ou(t),Ou(e)!==t&&r)throw Error(s(425))}function Hs(){}var bo=null,Po=null;function No(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,Ru=typeof Promise=="function"?Promise:void 0,Yf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ru<"u"?function(e){return Ru.resolve(null).then(e).catch(Xf)}:To;function Xf(e){setTimeout(function(){throw e})}function Oo(e,t){var r=t,i=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(i===0){e.removeChild(u),$n(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=u}while(r);$n(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hr,Kn="__reactProps$"+Hr,At="__reactContainer$"+Hr,Ro="__reactEvents$"+Hr,Zf="__reactListeners$"+Hr,ep="__reactHandles$"+Hr;function yr(e){var t=e[Tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[At]||r[Tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Lu(e);e!==null;){if(r=e[Tt])return r;e=Lu(e)}return t}e=r,r=e.parentNode}return null}function Jn(e){return e=e[Tt]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function qs(e){return e[Kn]||null}var Lo=[],Kr=-1;function Zt(e){return{current:e}}function ye(e){0>Kr||(e.current=Lo[Kr],Lo[Kr]=null,Kr--)}function me(e,t){Kr++,Lo[Kr]=e.current,e.current=t}var er={},Me=Zt(er),Je=Zt(!1),wr=er;function Jr(e,t){var r=e.type.contextTypes;if(!r)return er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in r)u[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Ge(e){return e=e.childContextTypes,e!=null}function Ks(){ye(Je),ye(Me)}function Iu(e,t,r){if(Me.current!==er)throw Error(s(168));me(Me,t),me(Je,r)}function Au(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var u in i)if(!(u in t))throw Error(s(108,pe(e)||"Unknown",u));return q({},r,i)}function Js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,wr=Me.current,me(Me,e),me(Je,Je.current),!0}function $u(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=Au(e,t,wr),i.__reactInternalMemoizedMergedChildContext=e,ye(Je),ye(Me),me(Me,e)):ye(Je),me(Je,r)}var $t=null,Gs=!1,Io=!1;function Uu(e){$t===null?$t=[e]:$t.push(e)}function tp(e){Gs=!0,Uu(e)}function tr(){if(!Io&&$t!==null){Io=!0;var e=0,t=fe;try{var r=$t;for(fe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}$t=null,Gs=!1}catch(u){throw $t!==null&&($t=$t.slice(e+1)),zl(to,tr),u}finally{fe=t,Io=!1}}return null}var Gr=[],Qr=0,Qs=null,Ys=0,at=[],lt=0,_r=null,Ut=1,Dt="";function xr(e,t){Gr[Qr++]=Ys,Gr[Qr++]=Qs,Qs=e,Ys=t}function Du(e,t,r){at[lt++]=Ut,at[lt++]=Dt,at[lt++]=_r,_r=e;var i=Ut;e=Dt;var u=32-gt(i)-1;i&=~(1<<u),r+=1;var d=32-gt(t)+u;if(30<d){var p=u-u%5;d=(i&(1<<p)-1).toString(32),i>>=p,u-=p,Ut=1<<32-gt(t)+u|r<<u|i,Dt=d+e}else Ut=1<<d|r<<u|i,Dt=e}function Ao(e){e.return!==null&&(xr(e,1),Du(e,1,0))}function $o(e){for(;e===Qs;)Qs=Gr[--Qr],Gr[Qr]=null,Ys=Gr[--Qr],Gr[Qr]=null;for(;e===_r;)_r=at[--lt],at[lt]=null,Dt=at[--lt],at[lt]=null,Ut=at[--lt],at[lt]=null}var nt=null,st=null,_e=!1,yt=null;function zu(e,t){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,st=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:Ut,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nt=e,st=null,!0):!1;default:return!1}}function Uo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(_e){var t=st;if(t){var r=t;if(!Mu(e,t)){if(Uo(e))throw Error(s(418));t=Xt(r.nextSibling);var i=nt;t&&Mu(e,t)?zu(i,r):(e.flags=e.flags&-4097|2,_e=!1,nt=e)}}else{if(Uo(e))throw Error(s(418));e.flags=e.flags&-4097|2,_e=!1,nt=e}}}function Bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function Xs(e){if(e!==nt)return!1;if(!_e)return Bu(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!No(e.type,e.memoizedProps)),t&&(t=st)){if(Uo(e))throw Fu(),Error(s(418));for(;t;)zu(e,t),t=Xt(t.nextSibling)}if(Bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){st=Xt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}st=null}}else st=nt?Xt(e.stateNode.nextSibling):null;return!0}function Fu(){for(var e=st;e;)e=Xt(e.nextSibling)}function Yr(){st=nt=null,_e=!1}function zo(e){yt===null?yt=[e]:yt.push(e)}var rp=L.ReactCurrentBatchConfig;function Gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var u=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var _=u.refs;p===null?delete _[d]:_[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wu(e){var t=e._init;return t(e._payload)}function Vu(e){function t(C,k){if(e){var b=C.deletions;b===null?(C.deletions=[k],C.flags|=16):b.push(k)}}function r(C,k){if(!e)return null;for(;k!==null;)t(C,k),k=k.sibling;return null}function i(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function u(C,k){return C=ur(C,k),C.index=0,C.sibling=null,C}function d(C,k,b){return C.index=b,e?(b=C.alternate,b!==null?(b=b.index,b<k?(C.flags|=2,k):b):(C.flags|=2,k)):(C.flags|=1048576,k)}function p(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,k,b,z){return k===null||k.tag!==6?(k=Ta(b,C.mode,z),k.return=C,k):(k=u(k,b),k.return=C,k)}function x(C,k,b,z){var G=b.type;return G===se?$(C,k,b.props.children,z,b.key):k!==null&&(k.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Ke&&Wu(G)===k.type)?(z=u(k,b.props),z.ref=Gn(C,k,b),z.return=C,z):(z=Si(b.type,b.key,b.props,null,C.mode,z),z.ref=Gn(C,k,b),z.return=C,z)}function N(C,k,b,z){return k===null||k.tag!==4||k.stateNode.containerInfo!==b.containerInfo||k.stateNode.implementation!==b.implementation?(k=Oa(b,C.mode,z),k.return=C,k):(k=u(k,b.children||[]),k.return=C,k)}function $(C,k,b,z,G){return k===null||k.tag!==7?(k=Nr(b,C.mode,z,G),k.return=C,k):(k=u(k,b),k.return=C,k)}function D(C,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Ta(""+k,C.mode,b),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return b=Si(k.type,k.key,k.props,null,C.mode,b),b.ref=Gn(C,null,k),b.return=C,b;case Z:return k=Oa(k,C.mode,b),k.return=C,k;case Ke:var z=k._init;return D(C,z(k._payload),b)}if(En(k)||ee(k))return k=Nr(k,C.mode,b,null),k.return=C,k;Zs(C,k)}return null}function I(C,k,b,z){var G=k!==null?k.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return G!==null?null:_(C,k,""+b,z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case B:return b.key===G?x(C,k,b,z):null;case Z:return b.key===G?N(C,k,b,z):null;case Ke:return G=b._init,I(C,k,G(b._payload),z)}if(En(b)||ee(b))return G!==null?null:$(C,k,b,z,null);Zs(C,b)}return null}function W(C,k,b,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return C=C.get(b)||null,_(k,C,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return C=C.get(z.key===null?b:z.key)||null,x(k,C,z,G);case Z:return C=C.get(z.key===null?b:z.key)||null,N(k,C,z,G);case Ke:var Y=z._init;return W(C,k,b,Y(z._payload),G)}if(En(z)||ee(z))return C=C.get(b)||null,$(k,C,z,G,null);Zs(k,z)}return null}function K(C,k,b,z){for(var G=null,Y=null,X=k,te=k=0,$e=null;X!==null&&te<b.length;te++){X.index>te?($e=X,X=null):$e=X.sibling;var de=I(C,X,b[te],z);if(de===null){X===null&&(X=$e);break}e&&X&&de.alternate===null&&t(C,X),k=d(de,k,te),Y===null?G=de:Y.sibling=de,Y=de,X=$e}if(te===b.length)return r(C,X),_e&&xr(C,te),G;if(X===null){for(;te<b.length;te++)X=D(C,b[te],z),X!==null&&(k=d(X,k,te),Y===null?G=X:Y.sibling=X,Y=X);return _e&&xr(C,te),G}for(X=i(C,X);te<b.length;te++)$e=W(X,C,te,b[te],z),$e!==null&&(e&&$e.alternate!==null&&X.delete($e.key===null?te:$e.key),k=d($e,k,te),Y===null?G=$e:Y.sibling=$e,Y=$e);return e&&X.forEach(function(cr){return t(C,cr)}),_e&&xr(C,te),G}function J(C,k,b,z){var G=ee(b);if(typeof G!="function")throw Error(s(150));if(b=G.call(b),b==null)throw Error(s(151));for(var Y=G=null,X=k,te=k=0,$e=null,de=b.next();X!==null&&!de.done;te++,de=b.next()){X.index>te?($e=X,X=null):$e=X.sibling;var cr=I(C,X,de.value,z);if(cr===null){X===null&&(X=$e);break}e&&X&&cr.alternate===null&&t(C,X),k=d(cr,k,te),Y===null?G=cr:Y.sibling=cr,Y=cr,X=$e}if(de.done)return r(C,X),_e&&xr(C,te),G;if(X===null){for(;!de.done;te++,de=b.next())de=D(C,de.value,z),de!==null&&(k=d(de,k,te),Y===null?G=de:Y.sibling=de,Y=de);return _e&&xr(C,te),G}for(X=i(C,X);!de.done;te++,de=b.next())de=W(X,C,te,de.value,z),de!==null&&(e&&de.alternate!==null&&X.delete(de.key===null?te:de.key),k=d(de,k,te),Y===null?G=de:Y.sibling=de,Y=de);return e&&X.forEach(function(Ap){return t(C,Ap)}),_e&&xr(C,te),G}function be(C,k,b,z){if(typeof b=="object"&&b!==null&&b.type===se&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case B:e:{for(var G=b.key,Y=k;Y!==null;){if(Y.key===G){if(G=b.type,G===se){if(Y.tag===7){r(C,Y.sibling),k=u(Y,b.props.children),k.return=C,C=k;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Ke&&Wu(G)===Y.type){r(C,Y.sibling),k=u(Y,b.props),k.ref=Gn(C,Y,b),k.return=C,C=k;break e}r(C,Y);break}else t(C,Y);Y=Y.sibling}b.type===se?(k=Nr(b.props.children,C.mode,z,b.key),k.return=C,C=k):(z=Si(b.type,b.key,b.props,null,C.mode,z),z.ref=Gn(C,k,b),z.return=C,C=z)}return p(C);case Z:e:{for(Y=b.key;k!==null;){if(k.key===Y)if(k.tag===4&&k.stateNode.containerInfo===b.containerInfo&&k.stateNode.implementation===b.implementation){r(C,k.sibling),k=u(k,b.children||[]),k.return=C,C=k;break e}else{r(C,k);break}else t(C,k);k=k.sibling}k=Oa(b,C.mode,z),k.return=C,C=k}return p(C);case Ke:return Y=b._init,be(C,k,Y(b._payload),z)}if(En(b))return K(C,k,b,z);if(ee(b))return J(C,k,b,z);Zs(C,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,k!==null&&k.tag===6?(r(C,k.sibling),k=u(k,b),k.return=C,C=k):(r(C,k),k=Ta(b,C.mode,z),k.return=C,C=k),p(C)):r(C,k)}return be}var Xr=Vu(!0),Hu=Vu(!1),ei=Zt(null),ti=null,Zr=null,Mo=null;function Bo(){Mo=Zr=ti=null}function Fo(e){var t=ei.current;ye(ei),e._currentValue=t}function Wo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function en(e,t){ti=e,Mo=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Qe=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(ti===null)throw Error(s(308));Zr=e,ti.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var kr=null;function Vo(e){kr===null?kr=[e]:kr.push(e)}function qu(e,t,r,i){var u=t.interleaved;return u===null?(r.next=r,Vo(t)):(r.next=u.next,u.next=r),t.interleaved=r,zt(e,i)}function zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var rr=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(le&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,zt(e,r)}return u=i.interleaved,u===null?(t.next=t,Vo(i)):(t.next=u.next,u.next=t),i.interleaved=t,zt(e,r)}function ri(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,so(e,r)}}function Ju(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?u=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?u=d=t:d=d.next=t}else u=d=t;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ni(e,t,r,i){var u=e.updateQueue;rr=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var x=_,N=x.next;x.next=null,p===null?d=N:p.next=N,p=x;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==p&&(_===null?$.firstBaseUpdate=N:_.next=N,$.lastBaseUpdate=x))}if(d!==null){var D=u.baseState;p=0,$=N=x=null,_=d;do{var I=_.lane,W=_.eventTime;if((i&I)===I){$!==null&&($=$.next={eventTime:W,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var K=e,J=_;switch(I=t,W=r,J.tag){case 1:if(K=J.payload,typeof K=="function"){D=K.call(W,D,I);break e}D=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=J.payload,I=typeof K=="function"?K.call(W,D,I):K,I==null)break e;D=q({},D,I);break e;case 2:rr=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,I=u.effects,I===null?u.effects=[_]:I.push(_))}else W={eventTime:W,lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(N=$=W,x=D):$=$.next=W,p|=I;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;I=_,_=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);if($===null&&(x=D),u.baseState=x,u.firstBaseUpdate=N,u.lastBaseUpdate=$,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);jr|=p,e.lanes=p,e.memoizedState=D}}function Gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],u=i.callback;if(u!==null){if(i.callback=null,i=r,typeof u!="function")throw Error(s(191,u));u.call(i)}}}var Qn={},Ot=Zt(Qn),Yn=Zt(Qn),Xn=Zt(Qn);function Sr(e){if(e===Qn)throw Error(s(174));return e}function qo(e,t){switch(me(Xn,t),me(Yn,e),me(Ot,Qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qi(t,e)}ye(Ot),me(Ot,t)}function tn(){ye(Ot),ye(Yn),ye(Xn)}function Qu(e){Sr(Xn.current);var t=Sr(Ot.current),r=qi(t,e.type);t!==r&&(me(Yn,e),me(Ot,r))}function Ko(e){Yn.current===e&&(ye(Ot),ye(Yn))}var xe=Zt(0);function si(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Go(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var ii=L.ReactCurrentDispatcher,Qo=L.ReactCurrentBatchConfig,Er=0,ke=null,Te=null,Ie=null,oi=!1,Zn=!1,es=0,np=0;function Be(){throw Error(s(321))}function Yo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function Xo(e,t,r,i,u,d){if(Er=d,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ii.current=e===null||e.memoizedState===null?ap:lp,e=r(i,u),Zn){d=0;do{if(Zn=!1,es=0,25<=d)throw Error(s(301));d+=1,Ie=Te=null,t.updateQueue=null,ii.current=up,e=r(i,u)}while(Zn)}if(ii.current=ui,t=Te!==null&&Te.next!==null,Er=0,Ie=Te=ke=null,oi=!1,t)throw Error(s(300));return e}function Zo(){var e=es!==0;return es=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ke.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function ct(){if(Te===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ie===null?ke.memoizedState:Ie.next;if(t!==null)Ie=t,Te=e;else{if(e===null)throw Error(s(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ie===null?ke.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ts(e,t){return typeof t=="function"?t(e):t}function ea(e){var t=ct(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=Te,u=i.baseQueue,d=r.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}i.baseQueue=u=d,r.pending=null}if(u!==null){d=u.next,i=i.baseState;var _=p=null,x=null,N=d;do{var $=N.lane;if((Er&$)===$)x!==null&&(x=x.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),i=N.hasEagerState?N.eagerState:e(i,N.action);else{var D={lane:$,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};x===null?(_=x=D,p=i):x=x.next=D,ke.lanes|=$,jr|=$}N=N.next}while(N!==null&&N!==d);x===null?p=i:x.next=_,vt(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=x,r.lastRenderedState=i}if(e=r.interleaved,e!==null){u=e;do d=u.lane,ke.lanes|=d,jr|=d,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ta(e){var t=ct(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,d=t.memoizedState;if(u!==null){r.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);vt(d,t.memoizedState)||(Qe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function Yu(){}function Xu(e,t){var r=ke,i=ct(),u=t(),d=!vt(i.memoizedState,u);if(d&&(i.memoizedState=u,Qe=!0),i=i.queue,ra(tc.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,rs(9,ec.bind(null,r,i,u,t),void 0,null),Ae===null)throw Error(s(349));(Er&30)!==0||Zu(r,t,u)}return u}function Zu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ec(e,t,r,i){t.value=r,t.getSnapshot=i,rc(t)&&nc(e)}function tc(e,t,r){return r(function(){rc(t)&&nc(e)})}function rc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function nc(e){var t=zt(e,1);t!==null&&kt(t,e,1,-1)}function sc(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=op.bind(null,ke,e),[t.memoizedState,e]}function rs(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function ic(){return ct().memoizedState}function ai(e,t,r,i){var u=Rt();ke.flags|=e,u.memoizedState=rs(1|t,r,void 0,i===void 0?null:i)}function li(e,t,r,i){var u=ct();i=i===void 0?null:i;var d=void 0;if(Te!==null){var p=Te.memoizedState;if(d=p.destroy,i!==null&&Yo(i,p.deps)){u.memoizedState=rs(t,r,d,i);return}}ke.flags|=e,u.memoizedState=rs(1|t,r,d,i)}function oc(e,t){return ai(8390656,8,e,t)}function ra(e,t){return li(2048,8,e,t)}function ac(e,t){return li(4,2,e,t)}function lc(e,t){return li(4,4,e,t)}function uc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cc(e,t,r){return r=r!=null?r.concat([e]):null,li(4,4,uc.bind(null,t,e),r)}function na(){}function dc(e,t){var r=ct();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Yo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function hc(e,t){var r=ct();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Yo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function fc(e,t,r){return(Er&21)===0?(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r):(vt(r,t)||(r=Wl(),ke.lanes|=r,jr|=r,e.baseState=!0),t)}function sp(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var i=Qo.transition;Qo.transition={};try{e(!1),t()}finally{fe=r,Qo.transition=i}}function pc(){return ct().memoizedState}function ip(e,t,r){var i=ar(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},mc(e))gc(t,r);else if(r=qu(e,t,r,i),r!==null){var u=He();kt(r,e,i,u),vc(r,t,i)}}function op(e,t,r){var i=ar(e),u={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(mc(e))gc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,_=d(p,r);if(u.hasEagerState=!0,u.eagerState=_,vt(_,p)){var x=t.interleaved;x===null?(u.next=u,Vo(t)):(u.next=x.next,x.next=u),t.interleaved=u;return}}catch{}finally{}r=qu(e,t,u,i),r!==null&&(u=He(),kt(r,e,i,u),vc(r,t,i))}}function mc(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function gc(e,t){Zn=oi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,so(e,r)}}var ui={readContext:ut,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},ap={readContext:ut,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:oc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ai(4194308,4,uc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var r=Rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Rt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ip.bind(null,ke,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:sc,useDebugValue:na,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=sc(!1),t=e[0];return e=sp.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=ke,u=Rt();if(_e){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Ae===null)throw Error(s(349));(Er&30)!==0||Zu(i,t,r)}u.memoizedState=r;var d={value:r,getSnapshot:t};return u.queue=d,oc(tc.bind(null,i,d,e),[e]),i.flags|=2048,rs(9,ec.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Rt(),t=Ae.identifierPrefix;if(_e){var r=Dt,i=Ut;r=(i&~(1<<32-gt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=es++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=np++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lp={readContext:ut,useCallback:dc,useContext:ut,useEffect:ra,useImperativeHandle:cc,useInsertionEffect:ac,useLayoutEffect:lc,useMemo:hc,useReducer:ea,useRef:ic,useState:function(){return ea(ts)},useDebugValue:na,useDeferredValue:function(e){var t=ct();return fc(t,Te.memoizedState,e)},useTransition:function(){var e=ea(ts)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Yu,useSyncExternalStore:Xu,useId:pc,unstable_isNewReconciler:!1},up={readContext:ut,useCallback:dc,useContext:ut,useEffect:ra,useImperativeHandle:cc,useInsertionEffect:ac,useLayoutEffect:lc,useMemo:hc,useReducer:ta,useRef:ic,useState:function(){return ta(ts)},useDebugValue:na,useDeferredValue:function(e){var t=ct();return Te===null?t.memoizedState=e:fc(t,Te.memoizedState,e)},useTransition:function(){var e=ta(ts)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Yu,useSyncExternalStore:Xu,useId:pc,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sa(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ci={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=He(),u=ar(e),d=Mt(i,u);d.payload=t,r!=null&&(d.callback=r),t=nr(e,d,u),t!==null&&(kt(t,e,u,i),ri(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=He(),u=ar(e),d=Mt(i,u);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=nr(e,d,u),t!==null&&(kt(t,e,u,i),ri(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=He(),i=ar(e),u=Mt(r,i);u.tag=2,t!=null&&(u.callback=t),t=nr(e,u,i),t!==null&&(kt(t,e,i,r),ri(t,e,i))}};function yc(e,t,r,i,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,p):t.prototype&&t.prototype.isPureReactComponent?!Fn(r,i)||!Fn(u,d):!0}function wc(e,t,r){var i=!1,u=er,d=t.contextType;return typeof d=="object"&&d!==null?d=ut(d):(u=Ge(t)?wr:Me.current,i=t.contextTypes,d=(i=i!=null)?Jr(e,u):er),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ci,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function _c(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ci.enqueueReplaceState(t,t.state,null)}function ia(e,t,r,i){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Ho(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=ut(d):(d=Ge(t)?wr:Me.current,u.context=Jr(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(sa(e,t,d,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ci.enqueueReplaceState(u,u.state,null),ni(e,r,u,i),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var r="",i=t;do r+=ue(i),i=i.return;while(i);var u=r}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function oa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cp=typeof WeakMap=="function"?WeakMap:Map;function xc(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){vi||(vi=!0,ka=i),aa(e,t)},r}function kc(e,t,r){r=Mt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var u=t.value;r.payload=function(){return i(u)},r.callback=function(){aa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){aa(e,t),typeof i!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Sc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new cp;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(r)||(u.add(r),e=Ep.bind(null,e,t,r),t.then(e,e))}function Ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,r,i,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,nr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var dp=L.ReactCurrentOwner,Qe=!1;function Ve(e,t,r,i){t.child=e===null?Hu(t,null,r,i):Xr(t,e.child,r,i)}function Cc(e,t,r,i,u){r=r.render;var d=t.ref;return en(t,u),i=Xo(e,t,r,i,d,u),r=Zo(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Bt(e,t,u)):(_e&&r&&Ao(t),t.flags|=1,Ve(e,t,i,u),t.child)}function bc(e,t,r,i,u){if(e===null){var d=r.type;return typeof d=="function"&&!Na(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Pc(e,t,d,i,u)):(e=Si(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:Fn,r(p,i)&&e.ref===t.ref)return Bt(e,t,u)}return t.flags|=1,e=ur(d,i),e.ref=t.ref,e.return=t,t.child=e}function Pc(e,t,r,i,u){if(e!==null){var d=e.memoizedProps;if(Fn(d,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,Bt(e,t,u)}return la(e,t,r,i,u)}function Nc(e,t,r){var i=t.pendingProps,u=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(sn,it),it|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(sn,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,me(sn,it),it|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,me(sn,it),it|=i;return Ve(e,t,u,r),t.child}function Tc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function la(e,t,r,i,u){var d=Ge(r)?wr:Me.current;return d=Jr(t,d),en(t,u),r=Xo(e,t,r,i,d,u),i=Zo(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Bt(e,t,u)):(_e&&i&&Ao(t),t.flags|=1,Ve(e,t,r,u),t.child)}function Oc(e,t,r,i,u){if(Ge(r)){var d=!0;Js(t)}else d=!1;if(en(t,u),t.stateNode===null)hi(e,t),wc(t,r,i),ia(t,r,i,u),i=!0;else if(e===null){var p=t.stateNode,_=t.memoizedProps;p.props=_;var x=p.context,N=r.contextType;typeof N=="object"&&N!==null?N=ut(N):(N=Ge(r)?wr:Me.current,N=Jr(t,N));var $=r.getDerivedStateFromProps,D=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==i||x!==N)&&_c(t,p,i,N),rr=!1;var I=t.memoizedState;p.state=I,ni(t,i,p,u),x=t.memoizedState,_!==i||I!==x||Je.current||rr?(typeof $=="function"&&(sa(t,r,$,i),x=t.memoizedState),(_=rr||yc(t,r,_,i,I,x,N))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),p.props=i,p.state=x,p.context=N,i=_):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,Ku(e,t),_=t.memoizedProps,N=t.type===t.elementType?_:wt(t.type,_),p.props=N,D=t.pendingProps,I=p.context,x=r.contextType,typeof x=="object"&&x!==null?x=ut(x):(x=Ge(r)?wr:Me.current,x=Jr(t,x));var W=r.getDerivedStateFromProps;($=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==D||I!==x)&&_c(t,p,i,x),rr=!1,I=t.memoizedState,p.state=I,ni(t,i,p,u);var K=t.memoizedState;_!==D||I!==K||Je.current||rr?(typeof W=="function"&&(sa(t,r,W,i),K=t.memoizedState),(N=rr||yc(t,r,N,i,I,K,x)||!1)?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,K,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,K,x)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=K),p.props=i,p.state=K,p.context=x,i=N):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return ua(e,t,r,i,d,u)}function ua(e,t,r,i,u,d){Tc(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return u&&$u(t,r,!1),Bt(e,t,d);i=t.stateNode,dp.current=t;var _=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Xr(t,e.child,null,d),t.child=Xr(t,null,_,d)):Ve(e,t,_,d),t.memoizedState=i.state,u&&$u(t,r,!0),t.child}function Rc(e){var t=e.stateNode;t.pendingContext?Iu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Iu(e,t.context,!1),qo(e,t.containerInfo)}function Lc(e,t,r,i,u){return Yr(),zo(u),t.flags|=256,Ve(e,t,r,i),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ic(e,t,r){var i=t.pendingProps,u=xe.current,d=!1,p=(t.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),me(xe,u&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,d?(i=t.mode,d=t.child,p={mode:"hidden",children:p},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ei(p,i,0,null),e=Nr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=da(r),t.memoizedState=ca,e):ha(t,p));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return hp(e,t,p,i,_,u,r);if(d){d=i.fallback,p=t.mode,u=e.child,_=u.sibling;var x={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==u?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=ur(u,x),i.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=ur(_,d):(d=Nr(d,p,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,p=e.child.memoizedState,p=p===null?da(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~r,t.memoizedState=ca,i}return d=e.child,e=d.sibling,i=ur(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ha(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,r,i){return i!==null&&zo(i),Xr(t,e.child,null,r),e=ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hp(e,t,r,i,u,d,p){if(r)return t.flags&256?(t.flags&=-257,i=oa(Error(s(422))),di(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,u=t.mode,i=Ei({mode:"visible",children:i.children},u,0,null),d=Nr(d,u,p,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Xr(t,e.child,null,p),t.child.memoizedState=da(p),t.memoizedState=ca,d);if((t.mode&1)===0)return di(e,t,p,null);if(u.data==="$!"){if(i=u.nextSibling&&u.nextSibling.dataset,i)var _=i.dgst;return i=_,d=Error(s(419)),i=oa(d,i,void 0),di(e,t,p,i)}if(_=(p&e.childLanes)!==0,Qe||_){if(i=Ae,i!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(i.suspendedLanes|p))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,zt(e,u),kt(i,e,u,-1))}return Pa(),i=oa(Error(s(421))),di(e,t,p,i)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=jp.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,st=Xt(u.nextSibling),nt=t,_e=!0,yt=null,e!==null&&(at[lt++]=Ut,at[lt++]=Dt,at[lt++]=_r,Ut=e.id,Dt=e.overflow,_r=t),t=ha(t,i.children),t.flags|=4096,t)}function Ac(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Wo(e.return,t,r)}function fa(e,t,r,i,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=u)}function $c(e,t,r){var i=t.pendingProps,u=i.revealOrder,d=i.tail;if(Ve(e,t,i.children,r),i=xe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ac(e,r,t);else if(e.tag===19)Ac(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(me(xe,i),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&si(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),fa(t,!1,u,r,d);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&si(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}fa(t,!0,r,null,d);break;case"together":fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=ur(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ur(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fp(e,t,r){switch(t.tag){case 3:Rc(t),Yr();break;case 5:Qu(t);break;case 1:Ge(t.type)&&Js(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,u=t.memoizedProps.value;me(ei,i._currentValue),i._currentValue=u;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(me(xe,xe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Ic(e,t,r):(me(xe,xe.current&1),e=Bt(e,t,r),e!==null?e.sibling:null);me(xe,xe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return $c(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),me(xe,xe.current),i)break;return null;case 22:case 23:return t.lanes=0,Nc(e,t,r)}return Bt(e,t,r)}var Uc,pa,Dc,zc;Uc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},pa=function(){},Dc=function(e,t,r,i){var u=e.memoizedProps;if(u!==i){e=t.stateNode,Sr(Ot.current);var d=null;switch(r){case"input":u=Fi(e,u),i=Fi(e,i),d=[];break;case"select":u=q({},u,{value:void 0}),i=q({},i,{value:void 0}),d=[];break;case"textarea":u=Hi(e,u),i=Hi(e,i),d=[];break;default:typeof u.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Hs)}Ki(r,i);var p;r=null;for(N in u)if(!i.hasOwnProperty(N)&&u.hasOwnProperty(N)&&u[N]!=null)if(N==="style"){var _=u[N];for(p in _)_.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in i){var x=i[N];if(_=u!=null?u[N]:void 0,i.hasOwnProperty(N)&&x!==_&&(x!=null||_!=null))if(N==="style")if(_){for(p in _)!_.hasOwnProperty(p)||x&&x.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in x)x.hasOwnProperty(p)&&_[p]!==x[p]&&(r||(r={}),r[p]=x[p])}else r||(d||(d=[]),d.push(N,r)),r=x;else N==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,_=_?_.__html:void 0,x!=null&&_!==x&&(d=d||[]).push(N,x)):N==="children"?typeof x!="string"&&typeof x!="number"||(d=d||[]).push(N,""+x):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(l.hasOwnProperty(N)?(x!=null&&N==="onScroll"&&ve("scroll",e),d||_===x||(d=[])):(d=d||[]).push(N,x))}r&&(d=d||[]).push("style",r);var N=d;(t.updateQueue=N)&&(t.flags|=4)}},zc=function(e,t,r,i){r!==i&&(t.flags|=4)};function ns(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&14680064,i|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function pp(e,t,r){var i=t.pendingProps;switch($o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Ge(t.type)&&Ks(),Fe(t),null;case 3:return i=t.stateNode,tn(),ye(Je),ye(Me),Go(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yt!==null&&(ja(yt),yt=null))),pa(e,t),Fe(t),null;case 5:Ko(t);var u=Sr(Xn.current);if(r=t.type,e!==null&&t.stateNode!=null)Dc(e,t,r,i,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Fe(t),null}if(e=Sr(Ot.current),Xs(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Tt]=t,i[Kn]=d,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(u=0;u<Vn.length;u++)ve(Vn[u],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":wl(i,d),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},ve("invalid",i);break;case"textarea":kl(i,d),ve("invalid",i)}Ki(r,d),u=null;for(var p in d)if(d.hasOwnProperty(p)){var _=d[p];p==="children"?typeof _=="string"?i.textContent!==_&&(d.suppressHydrationWarning!==!0&&Vs(i.textContent,_,e),u=["children",_]):typeof _=="number"&&i.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Vs(i.textContent,_,e),u=["children",""+_]):l.hasOwnProperty(p)&&_!=null&&p==="onScroll"&&ve("scroll",i)}switch(r){case"input":xs(i),xl(i,d,!0);break;case"textarea":xs(i),El(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Hs)}i=u,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jl(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[Tt]=t,e[Kn]=i,Uc(e,t,!1,!1),t.stateNode=e;e:{switch(p=Ji(r,i),r){case"dialog":ve("cancel",e),ve("close",e),u=i;break;case"iframe":case"object":case"embed":ve("load",e),u=i;break;case"video":case"audio":for(u=0;u<Vn.length;u++)ve(Vn[u],e);u=i;break;case"source":ve("error",e),u=i;break;case"img":case"image":case"link":ve("error",e),ve("load",e),u=i;break;case"details":ve("toggle",e),u=i;break;case"input":wl(e,i),u=Fi(e,i),ve("invalid",e);break;case"option":u=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=q({},i,{value:void 0}),ve("invalid",e);break;case"textarea":kl(e,i),u=Hi(e,i),ve("invalid",e);break;default:u=i}Ki(r,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var x=_[d];d==="style"?Pl(e,x):d==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Cl(e,x)):d==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&jn(e,x):typeof x=="number"&&jn(e,""+x):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?x!=null&&d==="onScroll"&&ve("scroll",e):x!=null&&U(e,d,x,p))}switch(r){case"input":xs(e),xl(e,i,!1);break;case"textarea":xs(e),El(e);break;case"option":i.value!=null&&e.setAttribute("value",""+he(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?$r(e,!!i.multiple,d,!1):i.defaultValue!=null&&$r(e,!!i.multiple,i.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Hs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)zc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=Sr(Xn.current),Sr(Ot.current),Xs(t)){if(i=t.stateNode,r=t.memoizedProps,i[Tt]=t,(d=i.nodeValue!==r)&&(e=nt,e!==null))switch(e.tag){case 3:Vs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Tt]=t,t.stateNode=i}return Fe(t),null;case 13:if(ye(xe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&st!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Fu(),Yr(),t.flags|=98560,d=!1;else if(d=Xs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),d=!1}else yt!==null&&(ja(yt),yt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(xe.current&1)!==0?Oe===0&&(Oe=3):Pa())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return tn(),pa(e,t),e===null&&Hn(t.stateNode.containerInfo),Fe(t),null;case 10:return Fo(t.type._context),Fe(t),null;case 17:return Ge(t.type)&&Ks(),Fe(t),null;case 19:if(ye(xe),d=t.memoizedState,d===null)return Fe(t),null;if(i=(t.flags&128)!==0,p=d.rendering,p===null)if(i)ns(d,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=si(e),p!==null){for(t.flags|=128,ns(d,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(xe,xe.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ce()>on&&(t.flags|=128,i=!0,ns(d,!1),t.lanes=4194304)}else{if(!i)if(e=si(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ns(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!_e)return Fe(t),null}else 2*Ce()-d.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,i=!0,ns(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(r=d.last,r!==null?r.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ce(),t.sibling=null,r=xe.current,me(xe,i?r&1|2:r&1),t):(Fe(t),null);case 22:case 23:return ba(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(it&1073741824)!==0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function mp(e,t){switch($o(t),t.tag){case 1:return Ge(t.type)&&Ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),ye(Je),ye(Me),Go(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ko(t),null;case 13:if(ye(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(xe),null;case 4:return tn(),null;case 10:return Fo(t.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var fi=!1,We=!1,gp=typeof WeakSet=="function"?WeakSet:Set,H=null;function nn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){je(e,t,i)}else r.current=null}function ma(e,t,r){try{r()}catch(i){je(e,t,i)}}var Mc=!1;function vp(e,t){if(bo=Ls,e=yu(),wo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,_=-1,x=-1,N=0,$=0,D=e,I=null;t:for(;;){for(var W;D!==r||u!==0&&D.nodeType!==3||(_=p+u),D!==d||i!==0&&D.nodeType!==3||(x=p+i),D.nodeType===3&&(p+=D.nodeValue.length),(W=D.firstChild)!==null;)I=D,D=W;for(;;){if(D===e)break t;if(I===r&&++N===u&&(_=p),I===d&&++$===i&&(x=p),(W=D.nextSibling)!==null)break;D=I,I=D.parentNode}D=W}r=_===-1||x===-1?null:{start:_,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Po={focusedElem:e,selectionRange:r},Ls=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var J=K.memoizedProps,be=K.memoizedState,C=t.stateNode,k=C.getSnapshotBeforeUpdate(t.elementType===t.type?J:wt(t.type,J),be);C.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(z){je(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return K=Mc,Mc=!1,K}function ss(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ma(t,r,d)}u=u.next}while(u!==i)}}function pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ga(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bc(e){var t=e.alternate;t!==null&&(e.alternate=null,Bc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Kn],delete t[Ro],delete t[Zf],delete t[ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fc(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hs));else if(i!==4&&(e=e.child,e!==null))for(va(e,t,r),e=e.sibling;e!==null;)va(e,t,r),e=e.sibling}function ya(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ya(e,t,r),e=e.sibling;e!==null;)ya(e,t,r),e=e.sibling}var De=null,_t=!1;function sr(e,t,r){for(r=r.child;r!==null;)Vc(e,t,r),r=r.sibling}function Vc(e,t,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(bs,r)}catch{}switch(r.tag){case 5:We||nn(r,t);case 6:var i=De,u=_t;De=null,sr(e,t,r),De=i,_t=u,De!==null&&(_t?(e=De,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(_t?(e=De,r=r.stateNode,e.nodeType===8?Oo(e.parentNode,r):e.nodeType===1&&Oo(e,r),$n(e)):Oo(De,r.stateNode));break;case 4:i=De,u=_t,De=r.stateNode.containerInfo,_t=!0,sr(e,t,r),De=i,_t=u;break;case 0:case 11:case 14:case 15:if(!We&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){u=i=i.next;do{var d=u,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&ma(r,t,p),u=u.next}while(u!==i)}sr(e,t,r);break;case 1:if(!We&&(nn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(_){je(r,t,_)}sr(e,t,r);break;case 21:sr(e,t,r);break;case 22:r.mode&1?(We=(i=We)||r.memoizedState!==null,sr(e,t,r),We=i):sr(e,t,r);break;default:sr(e,t,r)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gp),t.forEach(function(i){var u=Cp.bind(null,e,i);r.has(i)||(r.add(i),i.then(u,u))})}}function xt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i];try{var d=e,p=t,_=p;e:for(;_!==null;){switch(_.tag){case 5:De=_.stateNode,_t=!1;break e;case 3:De=_.stateNode.containerInfo,_t=!0;break e;case 4:De=_.stateNode.containerInfo,_t=!0;break e}_=_.return}if(De===null)throw Error(s(160));Vc(d,p,u),De=null,_t=!1;var x=u.alternate;x!==null&&(x.return=null),u.return=null}catch(N){je(u,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qc(t,e),t=t.sibling}function qc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Lt(e),i&4){try{ss(3,e,e.return),pi(3,e)}catch(J){je(e,e.return,J)}try{ss(5,e,e.return)}catch(J){je(e,e.return,J)}}break;case 1:xt(t,e),Lt(e),i&512&&r!==null&&nn(r,r.return);break;case 5:if(xt(t,e),Lt(e),i&512&&r!==null&&nn(r,r.return),e.flags&32){var u=e.stateNode;try{jn(u,"")}catch(J){je(e,e.return,J)}}if(i&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,p=r!==null?r.memoizedProps:d,_=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&_l(u,d),Ji(_,p);var N=Ji(_,d);for(p=0;p<x.length;p+=2){var $=x[p],D=x[p+1];$==="style"?Pl(u,D):$==="dangerouslySetInnerHTML"?Cl(u,D):$==="children"?jn(u,D):U(u,$,D,N)}switch(_){case"input":Wi(u,d);break;case"textarea":Sl(u,d);break;case"select":var I=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?$r(u,!!d.multiple,W,!1):I!==!!d.multiple&&(d.defaultValue!=null?$r(u,!!d.multiple,d.defaultValue,!0):$r(u,!!d.multiple,d.multiple?[]:"",!1))}u[Kn]=d}catch(J){je(e,e.return,J)}}break;case 6:if(xt(t,e),Lt(e),i&4){if(e.stateNode===null)throw Error(s(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(J){je(e,e.return,J)}}break;case 3:if(xt(t,e),Lt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{$n(t.containerInfo)}catch(J){je(e,e.return,J)}break;case 4:xt(t,e),Lt(e);break;case 13:xt(t,e),Lt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(xa=Ce())),i&4&&Hc(e);break;case 22:if($=r!==null&&r.memoizedState!==null,e.mode&1?(We=(N=We)||$,xt(t,e),We=N):xt(t,e),Lt(e),i&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!$&&(e.mode&1)!==0)for(H=e,$=e.child;$!==null;){for(D=H=$;H!==null;){switch(I=H,W=I.child,I.tag){case 0:case 11:case 14:case 15:ss(4,I,I.return);break;case 1:nn(I,I.return);var K=I.stateNode;if(typeof K.componentWillUnmount=="function"){i=I,r=I.return;try{t=i,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(J){je(i,r,J)}}break;case 5:nn(I,I.return);break;case 22:if(I.memoizedState!==null){Gc(D);continue}}W!==null?(W.return=I,H=W):Gc(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{u=D.stateNode,N?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=D.stateNode,x=D.memoizedProps.style,p=x!=null&&x.hasOwnProperty("display")?x.display:null,_.style.display=bl("display",p))}catch(J){je(e,e.return,J)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=N?"":D.memoizedProps}catch(J){je(e,e.return,J)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:xt(t,e),Lt(e),i&4&&Hc(e);break;case 21:break;default:xt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var u=i.stateNode;i.flags&32&&(jn(u,""),i.flags&=-33);var d=Wc(e);ya(e,d,u);break;case 3:case 4:var p=i.stateNode.containerInfo,_=Wc(e);va(e,_,p);break;default:throw Error(s(161))}}catch(x){je(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yp(e,t,r){H=e,Kc(e)}function Kc(e,t,r){for(var i=(e.mode&1)!==0;H!==null;){var u=H,d=u.child;if(u.tag===22&&i){var p=u.memoizedState!==null||fi;if(!p){var _=u.alternate,x=_!==null&&_.memoizedState!==null||We;_=fi;var N=We;if(fi=p,(We=x)&&!N)for(H=u;H!==null;)p=H,x=p.child,p.tag===22&&p.memoizedState!==null?Qc(u):x!==null?(x.return=p,H=x):Qc(u);for(;d!==null;)H=d,Kc(d),d=d.sibling;H=u,fi=_,We=N}Jc(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,H=d):Jc(e)}}function Jc(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:We||pi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(r===null)i.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:wt(t.type,r.memoizedProps);i.componentDidUpdate(u,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Gu(t,d,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gu(t,p,r)}break;case 5:var _=t.stateNode;if(r===null&&t.flags&4){r=_;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var $=N.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&$n(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}We||t.flags&512&&ga(t)}catch(I){je(t,t.return,I)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function Gc(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function Qc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pi(4,t)}catch(x){je(t,r,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var u=t.return;try{i.componentDidMount()}catch(x){je(t,u,x)}}var d=t.return;try{ga(t)}catch(x){je(t,d,x)}break;case 5:var p=t.return;try{ga(t)}catch(x){je(t,p,x)}}}catch(x){je(t,t.return,x)}if(t===e){H=null;break}var _=t.sibling;if(_!==null){_.return=t.return,H=_;break}H=t.return}}var wp=Math.ceil,mi=L.ReactCurrentDispatcher,wa=L.ReactCurrentOwner,dt=L.ReactCurrentBatchConfig,le=0,Ae=null,Pe=null,ze=0,it=0,sn=Zt(0),Oe=0,is=null,jr=0,gi=0,_a=0,os=null,Ye=null,xa=0,on=1/0,Ft=null,vi=!1,ka=null,ir=null,yi=!1,or=null,wi=0,as=0,Sa=null,_i=-1,xi=0;function He(){return(le&6)!==0?Ce():_i!==-1?_i:_i=Ce()}function ar(e){return(e.mode&1)===0?1:(le&2)!==0&&ze!==0?ze&-ze:rp.transition!==null?(xi===0&&(xi=Wl()),xi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Xl(e.type)),e)}function kt(e,t,r,i){if(50<as)throw as=0,Sa=null,Error(s(185));On(e,r,i),((le&2)===0||e!==Ae)&&(e===Ae&&((le&2)===0&&(gi|=r),Oe===4&&lr(e,ze)),Xe(e,i),r===1&&le===0&&(t.mode&1)===0&&(on=Ce()+500,Gs&&tr()))}function Xe(e,t){var r=e.callbackNode;tf(e,t);var i=Ts(e,e===Ae?ze:0);if(i===0)r!==null&&Ml(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ml(r),t===1)e.tag===0?tp(Xc.bind(null,e)):Uu(Xc.bind(null,e)),Yf(function(){(le&6)===0&&tr()}),r=null;else{switch(Vl(i)){case 1:r=to;break;case 4:r=Bl;break;case 16:r=Cs;break;case 536870912:r=Fl;break;default:r=Cs}r=od(r,Yc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yc(e,t){if(_i=-1,xi=0,(le&6)!==0)throw Error(s(327));var r=e.callbackNode;if(an()&&e.callbackNode!==r)return null;var i=Ts(e,e===Ae?ze:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=ki(e,i);else{t=i;var u=le;le|=2;var d=ed();(Ae!==e||ze!==t)&&(Ft=null,on=Ce()+500,br(e,t));do try{kp();break}catch(_){Zc(e,_)}while(!0);Bo(),mi.current=d,le=u,Pe!==null?t=0:(Ae=null,ze=0,t=Oe)}if(t!==0){if(t===2&&(u=ro(e),u!==0&&(i=u,t=Ea(e,u))),t===1)throw r=is,br(e,0),lr(e,i),Xe(e,Ce()),r;if(t===6)lr(e,i);else{if(u=e.current.alternate,(i&30)===0&&!_p(u)&&(t=ki(e,i),t===2&&(d=ro(e),d!==0&&(i=d,t=Ea(e,d))),t===1))throw r=is,br(e,0),lr(e,i),Xe(e,Ce()),r;switch(e.finishedWork=u,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Pr(e,Ye,Ft);break;case 3:if(lr(e,i),(i&130023424)===i&&(t=xa+500-Ce(),10<t)){if(Ts(e,0)!==0)break;if(u=e.suspendedLanes,(u&i)!==i){He(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=To(Pr.bind(null,e,Ye,Ft),t);break}Pr(e,Ye,Ft);break;case 4:if(lr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,u=-1;0<i;){var p=31-gt(i);d=1<<p,p=t[p],p>u&&(u=p),i&=~d}if(i=u,i=Ce()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wp(i/1960))-i,10<i){e.timeoutHandle=To(Pr.bind(null,e,Ye,Ft),i);break}Pr(e,Ye,Ft);break;case 5:Pr(e,Ye,Ft);break;default:throw Error(s(329))}}}return Xe(e,Ce()),e.callbackNode===r?Yc.bind(null,e):null}function Ea(e,t){var r=os;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=ki(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&ja(t)),e}function ja(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function _p(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var u=r[i],d=u.getSnapshot;u=u.value;try{if(!vt(d(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~_a,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gt(t),i=1<<r;e[r]=-1,t&=~i}}function Xc(e){if((le&6)!==0)throw Error(s(327));an();var t=Ts(e,0);if((t&1)===0)return Xe(e,Ce()),null;var r=ki(e,t);if(e.tag!==0&&r===2){var i=ro(e);i!==0&&(t=i,r=Ea(e,i))}if(r===1)throw r=is,br(e,0),lr(e,t),Xe(e,Ce()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,Ye,Ft),Xe(e,Ce()),null}function Ca(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(on=Ce()+500,Gs&&tr())}}function Cr(e){or!==null&&or.tag===0&&(le&6)===0&&an();var t=le;le|=1;var r=dt.transition,i=fe;try{if(dt.transition=null,fe=1,e)return e()}finally{fe=i,dt.transition=r,le=t,(le&6)===0&&tr()}}function ba(){it=sn.current,ye(sn)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qf(r)),Pe!==null)for(r=Pe.return;r!==null;){var i=r;switch($o(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ks();break;case 3:tn(),ye(Je),ye(Me),Go();break;case 5:Ko(i);break;case 4:tn();break;case 13:ye(xe);break;case 19:ye(xe);break;case 10:Fo(i.type._context);break;case 22:case 23:ba()}r=r.return}if(Ae=e,Pe=e=ur(e.current,null),ze=it=t,Oe=0,is=null,_a=gi=jr=0,Ye=os=null,kr!==null){for(t=0;t<kr.length;t++)if(r=kr[t],i=r.interleaved,i!==null){r.interleaved=null;var u=i.next,d=r.pending;if(d!==null){var p=d.next;d.next=u,i.next=p}r.pending=i}kr=null}return e}function Zc(e,t){do{var r=Pe;try{if(Bo(),ii.current=ui,oi){for(var i=ke.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}oi=!1}if(Er=0,Ie=Te=ke=null,Zn=!1,es=0,wa.current=null,r===null||r.return===null){Oe=1,is=t,Pe=null;break}e:{var d=e,p=r.return,_=r,x=t;if(t=ze,_.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var N=x,$=_,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var I=$.alternate;I?($.updateQueue=I.updateQueue,$.memoizedState=I.memoizedState,$.lanes=I.lanes):($.updateQueue=null,$.memoizedState=null)}var W=Ec(p);if(W!==null){W.flags&=-257,jc(W,p,_,d,t),W.mode&1&&Sc(d,N,t),t=W,x=N;var K=t.updateQueue;if(K===null){var J=new Set;J.add(x),t.updateQueue=J}else K.add(x);break e}else{if((t&1)===0){Sc(d,N,t),Pa();break e}x=Error(s(426))}}else if(_e&&_.mode&1){var be=Ec(p);if(be!==null){(be.flags&65536)===0&&(be.flags|=256),jc(be,p,_,d,t),zo(rn(x,_));break e}}d=x=rn(x,_),Oe!==4&&(Oe=2),os===null?os=[d]:os.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var C=xc(d,x,t);Ju(d,C);break e;case 1:_=x;var k=d.type,b=d.stateNode;if((d.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ir===null||!ir.has(b)))){d.flags|=65536,t&=-t,d.lanes|=t;var z=kc(d,_,t);Ju(d,z);break e}}d=d.return}while(d!==null)}rd(r)}catch(G){t=G,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function ed(){var e=mi.current;return mi.current=ui,e===null?ui:e}function Pa(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ae===null||(jr&268435455)===0&&(gi&268435455)===0||lr(Ae,ze)}function ki(e,t){var r=le;le|=2;var i=ed();(Ae!==e||ze!==t)&&(Ft=null,br(e,t));do try{xp();break}catch(u){Zc(e,u)}while(!0);if(Bo(),le=r,mi.current=i,Pe!==null)throw Error(s(261));return Ae=null,ze=0,Oe}function xp(){for(;Pe!==null;)td(Pe)}function kp(){for(;Pe!==null&&!qh();)td(Pe)}function td(e){var t=id(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?rd(e):Pe=t,wa.current=null}function rd(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=pp(r,t,it),r!==null){Pe=r;return}}else{if(r=mp(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Pe=null;return}}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Oe===0&&(Oe=5)}function Pr(e,t,r){var i=fe,u=dt.transition;try{dt.transition=null,fe=1,Sp(e,t,r,i)}finally{dt.transition=u,fe=i}return null}function Sp(e,t,r,i){do an();while(or!==null);if((le&6)!==0)throw Error(s(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(rf(e,d),e===Ae&&(Pe=Ae=null,ze=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||yi||(yi=!0,od(Cs,function(){return an(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=dt.transition,dt.transition=null;var p=fe;fe=1;var _=le;le|=4,wa.current=null,vp(e,r),qc(r,e),Wf(Po),Ls=!!bo,Po=bo=null,e.current=r,yp(r),Kh(),le=_,fe=p,dt.transition=d}else e.current=r;if(yi&&(yi=!1,or=e,wi=u),d=e.pendingLanes,d===0&&(ir=null),Qh(r.stateNode),Xe(e,Ce()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],i(u.value,{componentStack:u.stack,digest:u.digest});if(vi)throw vi=!1,e=ka,ka=null,e;return(wi&1)!==0&&e.tag!==0&&an(),d=e.pendingLanes,(d&1)!==0?e===Sa?as++:(as=0,Sa=e):as=0,tr(),null}function an(){if(or!==null){var e=Vl(wi),t=dt.transition,r=fe;try{if(dt.transition=null,fe=16>e?16:e,or===null)var i=!1;else{if(e=or,or=null,wi=0,(le&6)!==0)throw Error(s(331));var u=le;for(le|=4,H=e.current;H!==null;){var d=H,p=d.child;if((H.flags&16)!==0){var _=d.deletions;if(_!==null){for(var x=0;x<_.length;x++){var N=_[x];for(H=N;H!==null;){var $=H;switch($.tag){case 0:case 11:case 15:ss(8,$,d)}var D=$.child;if(D!==null)D.return=$,H=D;else for(;H!==null;){$=H;var I=$.sibling,W=$.return;if(Bc($),$===N){H=null;break}if(I!==null){I.return=W,H=I;break}H=W}}}var K=d.alternate;if(K!==null){var J=K.child;if(J!==null){K.child=null;do{var be=J.sibling;J.sibling=null,J=be}while(J!==null)}}H=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,H=p;else e:for(;H!==null;){if(d=H,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ss(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,H=C;break e}H=d.return}}var k=e.current;for(H=k;H!==null;){p=H;var b=p.child;if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,H=b;else e:for(p=k;H!==null;){if(_=H,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:pi(9,_)}}catch(G){je(_,_.return,G)}if(_===p){H=null;break e}var z=_.sibling;if(z!==null){z.return=_.return,H=z;break e}H=_.return}}if(le=u,tr(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(bs,e)}catch{}i=!0}return i}finally{fe=r,dt.transition=t}}return!1}function nd(e,t,r){t=rn(r,t),t=xc(e,t,1),e=nr(e,t,1),t=He(),e!==null&&(On(e,1,t),Xe(e,t))}function je(e,t,r){if(e.tag===3)nd(e,e,r);else for(;t!==null;){if(t.tag===3){nd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ir===null||!ir.has(i))){e=rn(r,e),e=kc(t,e,1),t=nr(t,e,1),e=He(),t!==null&&(On(t,1,e),Xe(t,e));break}}t=t.return}}function Ep(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(ze&r)===r&&(Oe===4||Oe===3&&(ze&130023424)===ze&&500>Ce()-xa?br(e,0):_a|=r),Xe(e,t)}function sd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ns,Ns<<=1,(Ns&130023424)===0&&(Ns=4194304)));var r=He();e=zt(e,t),e!==null&&(On(e,t,r),Xe(e,r))}function jp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sd(e,r)}function Cp(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),sd(e,r)}var id;id=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Qe=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Qe=!1,fp(e,t,r);Qe=(e.flags&131072)!==0}else Qe=!1,_e&&(t.flags&1048576)!==0&&Du(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;hi(e,t),e=t.pendingProps;var u=Jr(t,Me.current);en(t,r),u=Xo(null,t,i,e,u,r);var d=Zo();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(i)?(d=!0,Js(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Ho(t),u.updater=ci,t.stateNode=u,u._reactInternals=t,ia(t,i,e,r),t=ua(null,t,i,!0,d,r)):(t.tag=0,_e&&d&&Ao(t),Ve(null,t,u,r),t=t.child),t;case 16:i=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,u=i._init,i=u(i._payload),t.type=i,u=t.tag=Pp(i),e=wt(i,e),u){case 0:t=la(null,t,i,e,r);break e;case 1:t=Oc(null,t,i,e,r);break e;case 11:t=Cc(null,t,i,e,r);break e;case 14:t=bc(null,t,i,wt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:wt(i,u),la(e,t,i,u,r);case 1:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:wt(i,u),Oc(e,t,i,u,r);case 3:e:{if(Rc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,u=d.element,Ku(e,t),ni(t,i,null,r);var p=t.memoizedState;if(i=p.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=rn(Error(s(423)),t),t=Lc(e,t,i,r,u);break e}else if(i!==u){u=rn(Error(s(424)),t),t=Lc(e,t,i,r,u);break e}else for(st=Xt(t.stateNode.containerInfo.firstChild),nt=t,_e=!0,yt=null,r=Hu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yr(),i===u){t=Bt(e,t,r);break e}Ve(e,t,i,r)}t=t.child}return t;case 5:return Qu(t),e===null&&Do(t),i=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,p=u.children,No(i,u)?p=null:d!==null&&No(i,d)&&(t.flags|=32),Tc(e,t),Ve(e,t,p,r),t.child;case 6:return e===null&&Do(t),null;case 13:return Ic(e,t,r);case 4:return qo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xr(t,null,i,r):Ve(e,t,i,r),t.child;case 11:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:wt(i,u),Cc(e,t,i,u,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,u=t.pendingProps,d=t.memoizedProps,p=u.value,me(ei,i._currentValue),i._currentValue=p,d!==null)if(vt(d.value,p)){if(d.children===u.children&&!Je.current){t=Bt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var _=d.dependencies;if(_!==null){p=d.child;for(var x=_.firstContext;x!==null;){if(x.context===i){if(d.tag===1){x=Mt(-1,r&-r),x.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var $=N.pending;$===null?x.next=x:(x.next=$.next,$.next=x),N.pending=x}}d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Wo(d.return,r,t),_.lanes|=r;break}x=x.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(s(341));p.lanes|=r,_=p.alternate,_!==null&&(_.lanes|=r),Wo(p,r,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ve(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,i=t.pendingProps.children,en(t,r),u=ut(u),i=i(u),t.flags|=1,Ve(e,t,i,r),t.child;case 14:return i=t.type,u=wt(i,t.pendingProps),u=wt(i.type,u),bc(e,t,i,u,r);case 15:return Pc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:wt(i,u),hi(e,t),t.tag=1,Ge(i)?(e=!0,Js(t)):e=!1,en(t,r),wc(t,i,u),ia(t,i,u,r),ua(null,t,i,!0,e,r);case 19:return $c(e,t,r);case 22:return Nc(e,t,r)}throw Error(s(156,t.tag))};function od(e,t){return zl(e,t)}function bp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,r,i){return new bp(e,t,r,i)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pp(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bt)return 11;if(e===Pt)return 14}return 2}function ur(e,t){var r=e.alternate;return r===null?(r=ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Si(e,t,r,i,u,d){var p=2;if(i=e,typeof e=="function")Na(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case se:return Nr(r.children,u,d,t);case Se:p=8,u|=8;break;case pt:return e=ht(12,r,t,u|2),e.elementType=pt,e.lanes=d,e;case et:return e=ht(13,r,t,u),e.elementType=et,e.lanes=d,e;case mt:return e=ht(19,r,t,u),e.elementType=mt,e.lanes=d,e;case Ee:return Ei(r,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:p=10;break e;case Ct:p=9;break e;case bt:p=11;break e;case Pt:p=14;break e;case Ke:p=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=ht(p,r,t,u),t.elementType=e,t.type=i,t.lanes=d,t}function Nr(e,t,r,i){return e=ht(7,e,i,t),e.lanes=r,e}function Ei(e,t,r,i){return e=ht(22,e,i,t),e.elementType=Ee,e.lanes=r,e.stateNode={isHidden:!1},e}function Ta(e,t,r){return e=ht(6,e,null,t),e.lanes=r,e}function Oa(e,t,r){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Np(e,t,r,i,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=i,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ra(e,t,r,i,u,d,p,_,x){return e=new Np(e,t,r,_,x),t===1?(t=1,d===!0&&(t|=8)):t=0,d=ht(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ho(d),e}function Tp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function ad(e){if(!e)return er;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(Ge(r))return Au(e,r,t)}return t}function ld(e,t,r,i,u,d,p,_,x){return e=Ra(r,i,!0,e,u,d,p,_,x),e.context=ad(null),r=e.current,i=He(),u=ar(r),d=Mt(i,u),d.callback=t??null,nr(r,d,u),e.current.lanes=u,On(e,u,i),Xe(e,i),e}function ji(e,t,r,i){var u=t.current,d=He(),p=ar(u);return r=ad(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(d,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=nr(u,t,p),e!==null&&(kt(e,u,p,d),ri(e,u,p)),p}function Ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function La(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function Op(){return null}var cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ia(e){this._internalRoot=e}bi.prototype.render=Ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ji(e,t,null,null)},bi.prototype.unmount=Ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){ji(null,e,null,null)}),t[At]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kl();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gt.length&&t!==0&&t<Gt[r].priority;r++);Gt.splice(r,0,e),r===0&&Ql(e)}};function Aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dd(){}function Rp(e,t,r,i,u){if(u){if(typeof i=="function"){var d=i;i=function(){var N=Ci(p);d.call(N)}}var p=ld(t,i,e,0,null,!1,!1,"",dd);return e._reactRootContainer=p,e[At]=p.current,Hn(e.nodeType===8?e.parentNode:e),Cr(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof i=="function"){var _=i;i=function(){var N=Ci(x);_.call(N)}}var x=Ra(e,0,!1,null,null,!1,!1,"",dd);return e._reactRootContainer=x,e[At]=x.current,Hn(e.nodeType===8?e.parentNode:e),Cr(function(){ji(t,x,r,i)}),x}function Ni(e,t,r,i,u){var d=r._reactRootContainer;if(d){var p=d;if(typeof u=="function"){var _=u;u=function(){var x=Ci(p);_.call(x)}}ji(t,p,e,u)}else p=Rp(r,t,e,u,i);return Ci(p)}Hl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Tn(t.pendingLanes);r!==0&&(so(t,r|1),Xe(t,Ce()),(le&6)===0&&(on=Ce()+500,tr()))}break;case 13:Cr(function(){var i=zt(e,1);if(i!==null){var u=He();kt(i,e,1,u)}}),La(e,1)}},io=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var r=He();kt(t,e,134217728,r)}La(e,134217728)}},ql=function(e){if(e.tag===13){var t=ar(e),r=zt(e,t);if(r!==null){var i=He();kt(r,e,t,i)}La(e,t)}},Kl=function(){return fe},Jl=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}},Yi=function(e,t,r){switch(t){case"input":if(Wi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var u=qs(i);if(!u)throw Error(s(90));yl(i),Wi(i,u)}}}break;case"textarea":Sl(e,r);break;case"select":t=r.value,t!=null&&$r(e,!!r.multiple,t,!1)}},Rl=Ca,Ll=Cr;var Lp={usingClientEntryPoint:!1,Events:[Jn,qr,qs,Tl,Ol,Ca]},ls={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ip={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ul(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||Op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{bs=Ti.inject(Ip),Nt=Ti}catch{}}return Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lp,Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aa(t))throw Error(s(200));return Tp(e,t,null,r)},Ze.createRoot=function(e,t){if(!Aa(e))throw Error(s(299));var r=!1,i="",u=cd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ra(e,1,!1,null,null,r,!1,i,u),e[At]=t.current,Hn(e.nodeType===8?e.parentNode:e),new Ia(t)},Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ul(t),e=e===null?null:e.stateNode,e},Ze.flushSync=function(e){return Cr(e)},Ze.hydrate=function(e,t,r){if(!Pi(t))throw Error(s(200));return Ni(null,e,t,!0,r)},Ze.hydrateRoot=function(e,t,r){if(!Aa(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,u=!1,d="",p=cd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=ld(t,null,e,1,r??null,u,!1,d,p),e[At]=t.current,Hn(e),i)for(e=0;e<i.length;e++)r=i[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new bi(t)},Ze.render=function(e,t,r){if(!Pi(t))throw Error(s(200));return Ni(null,e,t,!1,r)},Ze.unmountComponentAtNode=function(e){if(!Pi(e))throw Error(s(40));return e._reactRootContainer?(Cr(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1},Ze.unstable_batchedUpdates=Ca,Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Pi(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ni(e,t,r,!1,i)},Ze.version="18.3.1-next-f1338f8080-20240426",Ze}var wd;function th(){if(wd)return Da.exports;wd=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Da.exports=Vp(),Da.exports}var _d;function Hp(){if(_d)return Oi;_d=1;var a=th();return Oi.createRoot=a.createRoot,Oi.hydrateRoot=a.hydrateRoot,Oi}var qp=Hp();const Kp=ul(qp);th();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},ps.apply(this,arguments)}var pr;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(pr||(pr={}));const xd="popstate";function Jp(a){a===void 0&&(a={});function n(o,l){let{pathname:c,search:h,hash:f}=o.location;return Qa("",{pathname:c,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:nh(l)}return Qp(n,s,null,a)}function Ne(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function rh(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Gp(){return Math.random().toString(36).substr(2,8)}function kd(a,n){return{usr:a.state,key:a.key,idx:n}}function Qa(a,n,s,o){return s===void 0&&(s=null),ps({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?xn(n):n,{state:s,key:n&&n.key||o||Gp()})}function nh(a){let{pathname:n="/",search:s="",hash:o=""}=a;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function xn(a){let n={};if(a){let s=a.indexOf("#");s>=0&&(n.hash=a.substr(s),a=a.substr(0,s));let o=a.indexOf("?");o>=0&&(n.search=a.substr(o),a=a.substr(0,o)),a&&(n.pathname=a)}return n}function Qp(a,n,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,h=l.history,f=pr.Pop,m=null,v=y();v==null&&(v=0,h.replaceState(ps({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function w(){f=pr.Pop;let E=y(),M=E==null?null:E-v;v=E,m&&m({action:f,location:P.location,delta:M})}function S(E,M){f=pr.Push;let V=Qa(P.location,E,M);v=y()+1;let U=kd(V,v),L=P.createHref(V);try{h.pushState(U,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(L)}c&&m&&m({action:f,location:P.location,delta:1})}function T(E,M){f=pr.Replace;let V=Qa(P.location,E,M);v=y();let U=kd(V,v),L=P.createHref(V);h.replaceState(U,"",L),c&&m&&m({action:f,location:P.location,delta:0})}function R(E){let M=l.location.origin!=="null"?l.location.origin:l.location.href,V=typeof E=="string"?E:nh(E);return V=V.replace(/ $/,"%20"),Ne(M,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,M)}let P={get action(){return f},get location(){return a(l,h)},listen(E){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(xd,w),m=E,()=>{l.removeEventListener(xd,w),m=null}},createHref(E){return n(l,E)},createURL:R,encodeLocation(E){let M=R(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:T,go(E){return h.go(E)}};return P}var Sd;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Sd||(Sd={}));function Yp(a,n,s){return s===void 0&&(s="/"),Xp(a,n,s)}function Xp(a,n,s,o){let l=typeof n=="string"?xn(n):n,c=oh(l.pathname||"/",s);if(c==null)return null;let h=sh(a);Zp(h);let f=null;for(let m=0;f==null&&m<h.length;++m){let v=dm(c);f=lm(h[m],v)}return f}function sh(a,n,s,o){n===void 0&&(n=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(c,h,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};m.relativePath.startsWith("/")&&(Ne(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let v=Ir([o,m.relativePath]),y=s.concat(m);c.children&&c.children.length>0&&(Ne(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),sh(c.children,n,y,v)),!(c.path==null&&!c.index)&&n.push({path:v,score:om(v,c.index),routesMeta:y})};return a.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,h);else for(let m of ih(c.path))l(c,h,m)}),n}function ih(a){let n=a.split("/");if(n.length===0)return[];let[s,...o]=n,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let h=ih(o.join("/")),f=[];return f.push(...h.map(m=>m===""?c:[c,m].join("/"))),l&&f.push(...h),f.map(m=>a.startsWith("/")&&m===""?"/":m)}function Zp(a){a.sort((n,s)=>n.score!==s.score?s.score-n.score:am(n.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const em=/^:[\w-]+$/,tm=3,rm=2,nm=1,sm=10,im=-2,Ed=a=>a==="*";function om(a,n){let s=a.split("/"),o=s.length;return s.some(Ed)&&(o+=im),n&&(o+=rm),s.filter(l=>!Ed(l)).reduce((l,c)=>l+(em.test(c)?tm:c===""?nm:sm),o)}function am(a,n){return a.length===n.length&&a.slice(0,-1).every((o,l)=>o===n[l])?a[a.length-1]-n[n.length-1]:0}function lm(a,n,s){let{routesMeta:o}=a,l={},c="/",h=[];for(let f=0;f<o.length;++f){let m=o[f],v=f===o.length-1,y=c==="/"?n:n.slice(c.length)||"/",w=um({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),S=m.route;if(!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:Ir([c,w.pathname]),pathnameBase:mm(Ir([c,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(c=Ir([c,w.pathnameBase]))}return h}function um(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,o]=cm(a.path,a.caseSensitive,a.end),l=n.match(s);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((v,y,w)=>{let{paramName:S,isOptional:T}=y;if(S==="*"){let P=f[w]||"";h=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const R=f[w];return T&&!R?v[S]=void 0:v[S]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:a}}function cm(a,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),rh(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,m)=>(o.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),o]}function dm(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return rh(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function oh(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,o=a.charAt(s);return o&&o!=="/"?null:a.slice(s)||"/"}function hm(a,n){n===void 0&&(n="/");let{pathname:s,search:o="",hash:l=""}=typeof a=="string"?xn(a):a;return{pathname:s?s.startsWith("/")?s:fm(s,n):n,search:gm(o),hash:vm(l)}}function fm(a,n){let s=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Ba(a,n,s,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pm(a){return a.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function ah(a,n){let s=pm(a);return n?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function lh(a,n,s,o){o===void 0&&(o=!1);let l;typeof a=="string"?l=xn(a):(l=ps({},a),Ne(!l.pathname||!l.pathname.includes("?"),Ba("?","pathname","search",l)),Ne(!l.pathname||!l.pathname.includes("#"),Ba("#","pathname","hash",l)),Ne(!l.search||!l.search.includes("#"),Ba("#","search","hash",l)));let c=a===""||l.pathname==="",h=c?"/":l.pathname,f;if(h==null)f=s;else{let w=n.length-1;if(!o&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;l.pathname=S.join("/")}f=w>=0?n[w]:"/"}let m=hm(l,f),v=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const Ir=a=>a.join("/").replace(/\/\/+/g,"/"),mm=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),gm=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,vm=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function ym(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const uh=["post","put","patch","delete"];new Set(uh);const wm=["get",...uh];new Set(wm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},ms.apply(this,arguments)}const dl=O.createContext(null),_m=O.createContext(null),vs=O.createContext(null),zi=O.createContext(null),Ht=O.createContext({outlet:null,matches:[],isDataRoute:!1}),ch=O.createContext(null);function ys(){return O.useContext(zi)!=null}function hl(){return ys()||Ne(!1),O.useContext(zi).location}function dh(a){O.useContext(vs).static||O.useLayoutEffect(a)}function jt(){let{isDataRoute:a}=O.useContext(Ht);return a?Am():xm()}function xm(){ys()||Ne(!1);let a=O.useContext(dl),{basename:n,future:s,navigator:o}=O.useContext(vs),{matches:l}=O.useContext(Ht),{pathname:c}=hl(),h=JSON.stringify(ah(l,s.v7_relativeSplatPath)),f=O.useRef(!1);return dh(()=>{f.current=!0}),O.useCallback(function(v,y){if(y===void 0&&(y={}),!f.current)return;if(typeof v=="number"){o.go(v);return}let w=lh(v,JSON.parse(h),c,y.relative==="path");a==null&&n!=="/"&&(w.pathname=w.pathname==="/"?n:Ir([n,w.pathname])),(y.replace?o.replace:o.push)(w,y.state,y)},[n,o,h,c,a])}const km=O.createContext(null);function Sm(a){let n=O.useContext(Ht).outlet;return n&&O.createElement(km.Provider,{value:a},n)}function hh(){let{matches:a}=O.useContext(Ht),n=a[a.length-1];return n?n.params:{}}function Em(a,n){return jm(a,n)}function jm(a,n,s,o){ys()||Ne(!1);let{navigator:l}=O.useContext(vs),{matches:c}=O.useContext(Ht),h=c[c.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=hl(),y;if(n){var w;let E=typeof n=="string"?xn(n):n;m==="/"||(w=E.pathname)!=null&&w.startsWith(m)||Ne(!1),y=E}else y=v;let S=y.pathname||"/",T=S;if(m!=="/"){let E=m.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=Yp(a,{pathname:T}),P=Tm(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Ir([m,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:Ir([m,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,s,o);return n&&P?O.createElement(zi.Provider,{value:{location:ms({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:pr.Pop}},P):P}function Cm(){let a=Im(),n=ym(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},n),s?O.createElement("pre",{style:l},s):null,null)}const bm=O.createElement(Cm,null);class Pm extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?O.createElement(Ht.Provider,{value:this.props.routeContext},O.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nm(a){let{routeContext:n,match:s,children:o}=a,l=O.useContext(dl);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),O.createElement(Ht.Provider,{value:n},o)}function Tm(a,n,s,o){var l;if(n===void 0&&(n=[]),s===void 0&&(s=null),o===void 0&&(o=null),a==null){var c;if(!s)return null;if(s.errors)a=s.matches;else if((c=o)!=null&&c.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let h=a,f=(l=s)==null?void 0:l.errors;if(f!=null){let y=h.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);y>=0||Ne(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(s&&o&&o.v7_partialHydration)for(let y=0;y<h.length;y++){let w=h[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:S,errors:T}=s,R=w.route.loader&&S[w.route.id]===void 0&&(!T||T[w.route.id]===void 0);if(w.route.lazy||R){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,w,S)=>{let T,R=!1,P=null,E=null;s&&(T=f&&w.route.id?f[w.route.id]:void 0,P=w.route.errorElement||bm,m&&(v<0&&S===0?($m("route-fallback"),R=!0,E=null):v===S&&(R=!0,E=w.route.hydrateFallbackElement||null)));let M=n.concat(h.slice(0,S+1)),V=()=>{let U;return T?U=P:R?U=E:w.route.Component?U=O.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=y,O.createElement(Nm,{match:w,routeContext:{outlet:y,matches:M,isDataRoute:s!=null},children:U})};return s&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?O.createElement(Pm,{location:s.location,revalidation:s.revalidation,component:P,error:T,children:V(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):V()},null)}var fh=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(fh||{}),ph=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(ph||{});function Om(a){let n=O.useContext(dl);return n||Ne(!1),n}function Rm(a){let n=O.useContext(_m);return n||Ne(!1),n}function Lm(a){let n=O.useContext(Ht);return n||Ne(!1),n}function mh(a){let n=Lm(),s=n.matches[n.matches.length-1];return s.route.id||Ne(!1),s.route.id}function Im(){var a;let n=O.useContext(ch),s=Rm(),o=mh();return n!==void 0?n:(a=s.errors)==null?void 0:a[o]}function Am(){let{router:a}=Om(fh.UseNavigateStable),n=mh(ph.UseNavigateStable),s=O.useRef(!1);return dh(()=>{s.current=!0}),O.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?a.navigate(l):a.navigate(l,ms({fromRouteId:n},c)))},[a,n])}const jd={};function $m(a,n,s){jd[a]||(jd[a]=!0)}function Um(a,n){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function Dm(a){let{to:n,replace:s,state:o,relative:l}=a;ys()||Ne(!1);let{future:c,static:h}=O.useContext(vs),{matches:f}=O.useContext(Ht),{pathname:m}=hl(),v=jt(),y=lh(n,ah(f,c.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(y);return O.useEffect(()=>v(JSON.parse(w),{replace:s,state:o,relative:l}),[v,w,l,s,o]),null}function zm(a){return Sm(a.context)}function ft(a){Ne(!1)}function Mm(a){let{basename:n="/",children:s=null,location:o,navigationType:l=pr.Pop,navigator:c,static:h=!1,future:f}=a;ys()&&Ne(!1);let m=n.replace(/^\/*/,"/"),v=O.useMemo(()=>({basename:m,navigator:c,static:h,future:ms({v7_relativeSplatPath:!1},f)}),[m,f,c,h]);typeof o=="string"&&(o=xn(o));let{pathname:y="/",search:w="",hash:S="",state:T=null,key:R="default"}=o,P=O.useMemo(()=>{let E=oh(y,m);return E==null?null:{location:{pathname:E,search:w,hash:S,state:T,key:R},navigationType:l}},[m,y,w,S,T,R,l]);return P==null?null:O.createElement(vs.Provider,{value:v},O.createElement(zi.Provider,{children:s,value:P}))}function Bm(a){let{children:n,location:s}=a;return Em(Ya(n),s)}new Promise(()=>{});function Ya(a,n){n===void 0&&(n=[]);let s=[];return O.Children.forEach(a,(o,l)=>{if(!O.isValidElement(o))return;let c=[...n,l];if(o.type===O.Fragment){s.push.apply(s,Ya(o.props.children,c));return}o.type!==ft&&Ne(!1),!o.props.index||!o.props.children||Ne(!1);let h={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Ya(o.props.children,c)),s.push(h)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fm="6";try{window.__reactRouterVersion=Fm}catch{}const Wm="startTransition",Cd=Bp[Wm];function Vm(a){let{basename:n,children:s,future:o,window:l}=a,c=O.useRef();c.current==null&&(c.current=Jp({window:l,v5Compat:!0}));let h=c.current,[f,m]=O.useState({action:h.action,location:h.location}),{v7_startTransition:v}=o||{},y=O.useCallback(w=>{v&&Cd?Cd(()=>m(w)):m(w)},[m,v]);return O.useLayoutEffect(()=>h.listen(y),[h,y]),O.useEffect(()=>Um(o),[o]),O.createElement(Mm,{basename:n,children:s,location:f.location,navigationType:f.action,navigator:h,future:o})}var bd;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(bd||(bd={}));var Pd;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Pd||(Pd={}));const Hm="modulepreload",qm=function(a){return"/"+a},Nd={},ws=function(n,s,o){let l=Promise.resolve();if(s&&s.length>0){let h=function(v){return Promise.all(v.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=h(s.map(v=>{if(v=qm(v),v in Nd)return;Nd[v]=!0;const y=v.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Hm,y||(S.as="script"),S.crossOrigin="",S.href=v,m&&S.setAttribute("nonce",m),document.head.appendChild(S),y)return new Promise((T,R)=>{S.addEventListener("load",T),S.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return l.then(h=>{for(const f of h||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})},Km=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>ws(async()=>{const{default:o}=await Promise.resolve().then(()=>kn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class fl extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class Jm extends fl{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Td extends fl{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Od extends fl{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Xa;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Xa||(Xa={}));var Gm=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};class Qm{constructor(n,{headers:s={},customFetch:o,region:l=Xa.Any}={}){this.url=n,this.headers=s,this.region=l,this.fetch=Km(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return Gm(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:h}=s;let f={},{region:m}=s;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let y;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(f["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(f["Content-Type"]="application/json",y=JSON.stringify(h)));const w=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y}).catch(P=>{throw new Jm(P)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new Td(w);if(!w.ok)throw new Od(w);let T=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return T==="application/json"?R=yield w.json():T==="application/octet-stream"?R=yield w.blob():T==="text/event-stream"?R=w:T==="multipart/form-data"?R=yield w.formData():R=yield w.text(),{data:R,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Od||l instanceof Td?l.context:void 0}}})}}var Ue={},ln={},un={},cn={},dn={},hn={},Ym=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=Ym();const Xm=_n.fetch,gh=_n.fetch.bind(_n),vh=_n.Headers,Zm=_n.Request,eg=_n.Response,kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:vh,Request:Zm,Response:eg,default:gh,fetch:Xm},Symbol.toStringTag,{value:"Module"})),tg=Up(kn);var Ri={},Rd;function yh(){if(Rd)return Ri;Rd=1,Object.defineProperty(Ri,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ri.default=a,Ri}var Ld;function wh(){if(Ld)return hn;Ld=1;var a=hn&&hn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(hn,"__esModule",{value:!0});const n=a(tg),s=a(yh());class o{constructor(c){var h,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,w,S,T;let R=null,P=null,E=null,M=v.status,V=v.statusText;if(v.ok){if(this.method!=="HEAD"){const Z=await v.text();Z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?P=Z:P=JSON.parse(Z))}const L=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),B=(S=v.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");L&&B&&B.length>1&&(E=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(R={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,E=null,M=406,V="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const L=await v.text();try{R=JSON.parse(L),Array.isArray(R)&&v.status===404&&(P=[],R=null,M=200,V="OK")}catch{v.status===404&&L===""?(M=204,V="No Content"):R={message:L}}if(R&&this.isMaybeSingle&&(!((T=R==null?void 0:R.details)===null||T===void 0)&&T.includes("0 rows"))&&(R=null,M=200,V="OK"),R&&this.shouldThrowOnError)throw new s.default(R)}return{error:R,data:P,count:E,status:M,statusText:V}});return this.shouldThrowOnError||(m=m.catch(v=>{var y,w,S;return{error:{message:`${(y=v==null?void 0:v.name)!==null&&y!==void 0?y:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(w=v==null?void 0:v.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(S=v==null?void 0:v.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,h)}returns(){return this}overrideTypes(){return this}}return hn.default=o,hn}var Id;function _h(){if(Id)return dn;Id=1;var a=dn&&dn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(dn,"__esModule",{value:!0});const n=a(wh());class s extends n.default{select(l){let c=!1;const h=(l??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:h,foreignTable:f,referencedTable:m=f}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:h=c}={}){const f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,c,{foreignTable:h,referencedTable:f=h}={}){const m=typeof f>"u"?"offset":`${f}.offset`,v=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:h=!1,buffers:f=!1,wal:m=!1,format:v="text"}={}){var y;const w=[l?"analyze":null,c?"verbose":null,h?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${S}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return dn.default=s,dn}var Ad;function pl(){if(Ad)return cn;Ad=1;var a=cn&&cn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(cn,"__esModule",{value:!0});const n=a(_h());class s extends n.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${m}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return cn.default=s,cn}var $d;function xh(){if($d)return un;$d=1;var a=un&&un.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(un,"__esModule",{value:!0});const n=a(pl());class s{constructor(l,{headers:c={},schema:h,fetch:f}){this.url=l,this.headers=new Headers(c),this.schema=h,this.fetch=f}select(l,{head:c=!1,count:h}={}){const f=c?"HEAD":"GET";let m=!1;const v=(l??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:h=!0}={}){var f;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:h=!1,count:f,defaultToNull:m=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(w.length>0){const S=[...new Set(w)].map(T=>`"${T}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:c}={}){var h;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:l}={}){var c;const h="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return un.default=s,un}var Ud;function rg(){if(Ud)return ln;Ud=1;var a=ln&&ln.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ln,"__esModule",{value:!0});const n=a(xh()),s=a(pl());class o{constructor(c,{headers:h={},schema:f,fetch:m}={}){this.url=c,this.headers=new Headers(h),this.schemaName=f,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:f=!1,get:m=!1,count:v}={}){var y;let w;const S=new URL(`${this.url}/rpc/${c}`);let T;f||m?(w=f?"HEAD":"GET",Object.entries(h).filter(([P,E])=>E!==void 0).map(([P,E])=>[P,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([P,E])=>{S.searchParams.append(P,E)})):(w="POST",T=h);const R=new Headers(this.headers);return v&&R.set("Prefer",`count=${v}`),new s.default({method:w,url:S,headers:R,schema:this.schemaName,body:T,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ln.default=o,ln}var Dd;function ng(){if(Dd)return Ue;Dd=1;var a=Ue&&Ue.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.PostgrestError=Ue.PostgrestBuilder=Ue.PostgrestTransformBuilder=Ue.PostgrestFilterBuilder=Ue.PostgrestQueryBuilder=Ue.PostgrestClient=void 0;const n=a(rg());Ue.PostgrestClient=n.default;const s=a(xh());Ue.PostgrestQueryBuilder=s.default;const o=a(pl());Ue.PostgrestFilterBuilder=o.default;const l=a(_h());Ue.PostgrestTransformBuilder=l.default;const c=a(wh());Ue.PostgrestBuilder=c.default;const h=a(yh());return Ue.PostgrestError=h.default,Ue.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:h.default},Ue}var sg=ng();const ig=ul(sg),{PostgrestClient:og,PostgrestQueryBuilder:I0,PostgrestFilterBuilder:A0,PostgrestTransformBuilder:$0,PostgrestBuilder:U0,PostgrestError:D0}=ig;class ag{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const lg="2.15.5",ug=`realtime-js/${lg}`,cg="1.0.0",Za=1e4,dg=1e3,hg=100;var ds;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(ds||(ds={}));var Re;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Re||(Re={}));var Et;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Et||(Et={}));var el;(function(a){a.websocket="websocket"})(el||(el={}));var Lr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Lr||(Lr={}));class fg{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const l=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const f=o.decode(n.slice(h,h+l));h=h+l;const m=o.decode(n.slice(h,h+c));h=h+c;const v=JSON.parse(o.decode(n.slice(h,n.byteLength)));return{ref:null,topic:f,event:m,payload:v}}}class kh{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(ge||(ge={}));const zd=(a,n,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((c,h)=>(c[h]=pg(h,a,n,l),c),{})},pg=(a,n,s,o)=>{const l=n.find(f=>f.name===a),c=l==null?void 0:l.type,h=s[a];return c&&!o.includes(c)?Sh(c,h):tl(h)},Sh=(a,n)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return yg(n,s)}switch(a){case ge.bool:return mg(n);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return gg(n);case ge.json:case ge.jsonb:return vg(n);case ge.timestamp:return wg(n);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return tl(n);default:return tl(n)}},tl=a=>a,mg=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},gg=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},vg=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},yg=(a,n)=>{if(typeof a!="string")return a;const s=a.length-1,o=a[s];if(a[0]==="{"&&o==="}"){let c;const h=a.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(f=>Sh(n,f))}return a},wg=a=>typeof a=="string"?a.replace(" ","T"):a,Eh=a=>{let n=a;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Fa{constructor(n,s,o={},l=Za){this.channel=n,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Md;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Md||(Md={}));class hs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hs.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=hs.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=hs.syncDiff(this.state,l,c,h),f())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,l){const c=this.cloneDeep(n),h=this.transformState(s),f={},m={};return this.map(c,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const w=c[v];if(w){const S=y.map(E=>E.presence_ref),T=w.map(E=>E.presence_ref),R=y.filter(E=>T.indexOf(E.presence_ref)<0),P=w.filter(E=>S.indexOf(E.presence_ref)<0);R.length>0&&(f[v]=R),P.length>0&&(m[v]=P)}else f[v]=y}),this.syncDiff(c,{joins:f,leaves:m},o,l)}static syncDiff(n,s,o,l){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(f,m)=>{var v;const y=(v=n[f])!==null&&v!==void 0?v:[];if(n[f]=this.cloneDeep(m),y.length>0){const w=n[f].map(T=>T.presence_ref),S=y.filter(T=>w.indexOf(T.presence_ref)<0);n[f].unshift(...S)}o(f,y,m)}),this.map(h,(f,m)=>{let v=n[f];if(!v)return;const y=m.map(w=>w.presence_ref);v=v.filter(w=>y.indexOf(w.presence_ref)<0),n[f]=v,l(f,v,m),v.length===0&&delete n[f]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const l=n[o];return"metas"in l?s[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=l,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bd;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Bd||(Bd={}));var fs;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(fs||(fs={}));var Vt;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class ml{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fa(this,Et.join,this.params,this.timeout),this.rejoinTimer=new kh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new hs(this),this.broadcastEndpointURL=Eh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(T=>T.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[fs.PRESENCE]&&this.bindings[fs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},S={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(T=>n==null?void 0:n(Vt.CHANNEL_ERROR,T)),this._onClose(()=>n==null?void 0:n(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var R;if(this.socket.setAuth(),T===void 0){n==null||n(Vt.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,E=(R=P==null?void 0:P.length)!==null&&R!==void 0?R:0,M=[];for(let V=0;V<E;V++){const U=P[V],{filter:{event:L,schema:B,table:Z,filter:se}}=U,Se=T&&T[V];if(Se&&Se.event===L&&Se.schema===B&&Se.table===Z&&Se.filter===se)M.push(Object.assign(Object.assign({},U),{id:Se.id}));else{this.unsubscribe(),this.state=Re.errored,n==null||n(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n(Vt.SUBSCRIBED);return}}).receive("error",T=>{this.state=Re.errored,n==null||n(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===Re.joined&&n===fs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,l;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:h}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,m;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Re.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Fa(this,Et.leave,{},n),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),h}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Fa(this,n,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>hg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var l,c;const h=n.toLocaleLowerCase(),{close:f,error:m,leave:v,join:y}=Et;if(o&&[f,m,v,y].indexOf(h)>=0&&o!==this._joinRef())return;let S=this._onMessage(h,s,o);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(T=>{var R,P,E;return((R=T.filter)===null||R===void 0?void 0:R.event)==="*"||((E=(P=T.filter)===null||P===void 0?void 0:P.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===h}).map(T=>T.callback(S,o)):(c=this.bindings[h])===null||c===void 0||c.filter(T=>{var R,P,E,M,V,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const L=T.id,B=(R=T.filter)===null||R===void 0?void 0:R.event;return L&&((P=s.ids)===null||P===void 0?void 0:P.includes(L))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const L=(V=(M=T==null?void 0:T.filter)===null||M===void 0?void 0:M.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return L==="*"||L===((U=s==null?void 0:s.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof S=="object"&&"ids"in S){const R=S.data,{schema:P,table:E,commit_timestamp:M,type:V,errors:U}=R;S=Object.assign(Object.assign({},{schema:P,table:E,commit_timestamp:M,eventType:V,new:{},old:{},errors:U}),this._getPayloadRecords(R))}T.callback(S,o)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const l=n.toLocaleLowerCase(),c={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&ml.isEqual(l.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Et.close,{},n)}_onError(n){this._on(Et.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=zd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=zd(n.columns,n.old_record)),s}}const Wa=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_g=[1e3,2e3,5e3,1e4],xg=1e4,kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sg{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Za,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wa,this.ref=0,this.reconnectTimer=null,this.logger=Wa,this.conn=null,this.sendBuffer=[],this.serializer=new fg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...h)=>ws(async()=>{const{default:f}=await Promise.resolve().then(()=>kn);return{default:f}},void 0).then(({default:f})=>f(...h)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${el.websocket}`,this.httpEndpoint=Eh(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ag.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ds.connecting:return Lr.Connecting;case ds.open:return Lr.Open;case ds.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new ml(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:o,payload:l,ref:c}=n,h=()=>{this.encode(n,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${o} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(dg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:c,ref:h}=s,f=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${l} ${f}`.trim(),c),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Et.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${n}${o}${l}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([kg],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const l={access_token:s,version:ug};s&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Et.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new kh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,l,c,h,f,m,v,y;if(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n==null?void 0:n.timeout)!==null&&o!==void 0?o:Za,this.heartbeatIntervalMs=(l=n==null?void 0:n.heartbeatIntervalMs)!==null&&l!==void 0?l:Li.HEARTBEAT_INTERVAL,this.worker=(c=n==null?void 0:n.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=n==null?void 0:n.heartbeatCallback)!==null&&f!==void 0?f:Wa,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n==null?void 0:n.reconnectAfterMs)!==null&&m!==void 0?m:(w=>_g[w-1]||xg),this.encode=(v=n==null?void 0:n.encode)!==null&&v!==void 0?v:((w,S)=>S(JSON.stringify(w))),this.decode=(y=n==null?void 0:n.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class gl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Le(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Eg extends gl{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rl extends gl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var jg=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};const jh=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>ws(async()=>{const{default:o}=await Promise.resolve().then(()=>kn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Cg=()=>jg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ws(()=>Promise.resolve().then(()=>kn),void 0)).Response:Response}),nl=a=>{if(Array.isArray(a))return a.map(s=>nl(s));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[l]=nl(o)}),n},bg=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Ar=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};const Va=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Pg=(a,n,s)=>Ar(void 0,void 0,void 0,function*(){const o=yield Cg();a instanceof o&&!(s!=null&&s.noResolveJson)?a.json().then(l=>{const c=a.status||500,h=(l==null?void 0:l.statusCode)||c+"";n(new Eg(Va(l),c,h))}).catch(l=>{n(new rl(Va(l),l))}):n(new rl(Va(a),a))}),Ng=(a,n,s,o)=>{const l={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!o?l:(bg(o)?(l.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l.body=JSON.stringify(o)):l.body=o,n!=null&&n.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),s))};function _s(a,n,s,o,l,c){return Ar(this,void 0,void 0,function*(){return new Promise((h,f)=>{a(s,Ng(n,o,l,c)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Pg(m,f,o))})})}function Ui(a,n,s,o){return Ar(this,void 0,void 0,function*(){return _s(a,"GET",n,s,o)})}function It(a,n,s,o,l){return Ar(this,void 0,void 0,function*(){return _s(a,"POST",n,o,l,s)})}function sl(a,n,s,o,l){return Ar(this,void 0,void 0,function*(){return _s(a,"PUT",n,o,l,s)})}function Tg(a,n,s,o){return Ar(this,void 0,void 0,function*(){return _s(a,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Ch(a,n,s,o,l){return Ar(this,void 0,void 0,function*(){return _s(a,"DELETE",n,o,l,s)})}var qe=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};const Og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rg{constructor(n,s={},o,l){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=o,this.fetch=jh(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,o,l){return qe(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Fd),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=o,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),w=yield(n=="PUT"?sl:It)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Le(c))return{data:null,error:c};throw c}})}upload(n,s,o){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,l){return qe(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${h}`);f.searchParams.set("token",s);try{let m;const v=Object.assign({upsert:Fd.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",v.cacheControl)):(m=o,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const w=yield sl(this.fetch,f.toString(),m,{headers:y});return{data:{path:c,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Le(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return qe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const c=yield It(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(this.url+c.url),f=h.searchParams.get("token");if(!f)throw new gl("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}update(n,s,o){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return qe(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}copy(n,s,o){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}createSignedUrl(n,s,o){return qe(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),c=yield It(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}createSignedUrls(n,s,o){return qe(this,void 0,void 0,function*(){try{const l=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}download(n,s){return qe(this,void 0,void 0,function*(){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=c?`?${c}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield Ui(this.fetch,`${this.url}/${l}/${f}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Le(f))return{data:null,error:f};throw f}})}info(n){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Ui(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:nl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}exists(n){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Tg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o)&&o instanceof rl){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),l=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const f=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${v}`)}}}remove(n){return qe(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}list(n,s,o){return qe(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Og),s),{prefix:n||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}listV2(n,s){return qe(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Lg="2.12.1",Ig={"X-Client-Info":`storage-js/${Lg}`};var fn=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};class Ag{constructor(n,s={},o,l){this.shouldThrowOnError=!1;const c=new URL(n);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Ig),s),this.fetch=jh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return fn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}getBucket(n){return fn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return fn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return fn(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}emptyBucket(n){return fn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}deleteBucket(n){return fn(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}}class $g extends Ag{constructor(n,s={},o,l){super(n,s,o,l)}from(n){return new Rg(this.url,this.headers,n,this.fetch)}}const Ug="2.57.4";let cs="";typeof Deno<"u"?cs="deno":typeof document<"u"?cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cs="react-native":cs="node";const Dg={"X-Client-Info":`supabase-js-${cs}/${Ug}`},zg={headers:Dg},Mg={schema:"public"},Bg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fg={};var Wg=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};const Vg=a=>{let n;return a?n=a:typeof fetch>"u"?n=gh:n=fetch,(...s)=>n(...s)},Hg=()=>typeof Headers>"u"?vh:Headers,qg=(a,n,s)=>{const o=Vg(s),l=Hg();return(c,h)=>Wg(void 0,void 0,void 0,function*(){var f;const m=(f=yield n())!==null&&f!==void 0?f:a;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",a),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),o(c,Object.assign(Object.assign({},h),{headers:v}))})};var Kg=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};function Jg(a){return a.endsWith("/")?a:a+"/"}function Gg(a,n){var s,o;const{db:l,auth:c,realtime:h,global:f}=a,{db:m,auth:v,realtime:y,global:w}=n,S={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},v),c),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),f),{headers:Object.assign(Object.assign({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Kg(this,void 0,void 0,function*(){return""})};return a.accessToken?S.accessToken=a.accessToken:delete S.accessToken,S}function Qg(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jg(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bh="2.71.1",yn=30*1e3,il=3,Ha=il*yn,Yg="http://localhost:9999",Xg="supabase.auth.token",Zg={"X-Client-Info":`gotrue-js/${bh}`},ol="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ev=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tv=600*1e3;class vl extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function re(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class rv extends vl{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function nv(a){return re(a)&&a.name==="AuthApiError"}class Nh extends vl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class mr extends vl{constructor(n,s,o,l){super(n,o,l),this.name=s,this.status=o}}class hr extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sv(a){return re(a)&&a.name==="AuthSessionMissingError"}class Ii extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ai extends mr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class $i extends mr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iv(a){return re(a)&&a.name==="AuthImplicitGrantRedirectError"}class Wd extends mr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class al extends mr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function qa(a){return re(a)&&a.name==="AuthRetryableFetchError"}class Vd extends mr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class ll extends mr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hd=` 	
\r=`.split(""),ov=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Hd.length;n+=1)a[Hd[n].charCodeAt(0)]=-2;for(let n=0;n<Di.length;n+=1)a[Di[n].charCodeAt(0)]=n;return a})();function qd(a,n,s){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Di[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Di[o]),n.queuedBits-=6}}function Th(a,n,s){const o=ov[a];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Kd(a){const n=[],s=h=>{n.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{uv(h,o,s)};for(let h=0;h<a.length;h+=1)Th(a.charCodeAt(h),l,c);return n.join("")}function av(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function lv(a,n){for(let s=0;s<a.length;s+=1){let o=a.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(a.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}av(o,n)}}function uv(a,n,s){if(n.utf8seq===0){if(a<=127){s(a);return}for(let o=1;o<6;o+=1)if((a>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function cv(a){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};for(let l=0;l<a.length;l+=1)Th(a.charCodeAt(l),s,o);return new Uint8Array(n)}function dv(a){const n=[];return lv(a,s=>n.push(s)),new Uint8Array(n)}function hv(a){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};return a.forEach(l=>qd(l,s,o)),qd(null,s,o),n.join("")}function fv(a){return Math.round(Date.now()/1e3)+a}function pv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const n=Math.random()*16|0;return(a=="x"?n:n&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",Tr={tested:!1,writable:!1},Oh=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tr.tested)return Tr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Tr.tested=!0,Tr.writable=!0}catch{Tr.tested=!0,Tr.writable=!1}return Tr.writable};function mv(a){const n={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{n[c]=l})}catch{}return s.searchParams.forEach((o,l)=>{n[l]=o}),n}const Rh=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>ws(async()=>{const{default:o}=await Promise.resolve().then(()=>kn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},gv=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",wn=async(a,n,s)=>{await a.setItem(n,JSON.stringify(s))},Or=async(a,n)=>{const s=await a.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},dr=async(a,n)=>{await a.removeItem(n)};class Mi{constructor(){this.promise=new Mi.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Mi.promiseConstructor=Promise;function Ka(a){const n=a.split(".");if(n.length!==3)throw new ll("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!ev.test(n[o]))throw new ll("JWT not in base64url format");return{header:JSON.parse(Kd(n[0])),payload:JSON.parse(Kd(n[1])),signature:cv(n[2]),raw:{header:n[0],payload:n[1]}}}async function vv(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function yv(a,n){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await a(c);if(!n(c,null,h)){o(h);return}}catch(h){if(!n(c,h)){l(h);return}}})()})}function wv(a){return("0"+a.toString(16)).substr(-2)}function _v(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(n),Array.from(n,wv).join("")}async function xv(a){const s=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function kv(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await xv(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(a,n,s=!1){const o=_v();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await wn(a,`${n}-code-verifier`,l);const c=await kv(o);return[c,o===c?"plain":"s256"]}const Sv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ev(a){const n=a.headers.get(ol);if(!n||!n.match(Sv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function jv(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Cv(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mn(a){if(!bv.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ja(){const a={};return new Proxy(a,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jd(a){return JSON.parse(JSON.stringify(a))}var Pv=function(a,n){var s={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(s[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(a);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(a,o[l])&&(s[o[l]]=a[o[l]]);return s};const Rr=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Nv=[502,503,504];async function Gd(a){var n;if(!gv(a))throw new al(Rr(a),0);if(Nv.includes(a.status))throw new al(Rr(a),a.status);let s;try{s=await a.json()}catch(c){throw new Nh(Rr(c),c)}let o;const l=Ev(a);if(l&&l.getTime()>=Ph["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Vd(Rr(s),a.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new hr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Vd(Rr(s),a.status,s.weak_password.reasons);throw new rv(Rr(s),a.status||500,o)}const Tv=(a,n,s,o)=>{const l={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function ae(a,n,s,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[ol]||(c[ol]=Ph["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Ov(a,n,s+f,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function Ov(a,n,s,o,l,c){const h=Tv(n,o,l,c);let f;try{f=await a(s,Object.assign({},h))}catch(m){throw console.error(m),new al(Rr(m),0)}if(f.ok||await Gd(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(m){await Gd(m)}}function Wt(a){var n;let s=null;Av(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=fv(a.expires_in)));const o=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:s,user:o},error:null}}function Qd(a){const n=Wt(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=a.weak_password),n}function fr(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function Rv(a){return{data:a,error:null}}function Lv(a){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c}=a,h=Pv(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function Iv(a){return a}function Av(a){return a.access_token&&a.refresh_token&&a.expires_in}const Ga=["global","local","others"];var $v=function(a,n){var s={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(s[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(a);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(a,o[l])&&(s[o[l]]=a[o[l]]);return s};class Uv{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=Rh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Ga[0]){if(Ga.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ga.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:fr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=$v(n,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Lv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:fr})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,l,c,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=n==null?void 0:n.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Iv});if(y.error)throw y.error;const w=await y.json(),S=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(R=>{const P=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(R.split(";")[1].split("=")[1]);v[`${E}Page`]=P}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(re(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){mn(n);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:fr})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){mn(n);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:fr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){mn(n);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:fr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){mn(n.userId);try{const{data:s,error:o}=await ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(n){mn(n.userId),mn(n.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}}function Yd(a={}){return{getItem:n=>a[n]||null,setItem:(n,s)=>{a[n]=s},removeItem:n=>{delete a[n]}}}function Dv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&Oh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class zv extends Lh{}async function Mv(a,n,s){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await s()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(n===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new zv(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(gn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Dv();const Bv={url:Yg,storageKey:Xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xd(a,n,s){return await s()}const vn={};class gs{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gs.nextInstanceID,gs.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Bv),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Uv({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Rh(l.fetch),this.lock=l.lock||Xd,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:St()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Mv:this.lock=Xd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Oh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yd(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Yd(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=vn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){vn[this.storageKey]=Object.assign(Object.assign({},vn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=vn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){vn[this.storageKey]=Object.assign(Object.assign({},vn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bh}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=mv(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),St()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),iv(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?{error:s}:{error:new Nh("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,l;try{const c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.captchaToken}},xform:Wt}),{data:h,error:f}=c;if(f||!h)return{data:{user:null,session:null},error:f};const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,o,l;try{let c;if("email"in n){const{email:y,password:w,options:S}=n;let T=null,R=null;this.flowType==="pkce"&&([T,R]=await pn(this.storage,this.storageKey)),c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:w,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:T,code_challenge_method:R},xform:Wt})}else if("phone"in n){const{phone:y,password:w,options:S}=n;c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(l=S==null?void 0:S.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Wt})}else throw new Ai("You must provide either an email or phone number and a password");const{data:h,error:f}=c;if(f||!h)return{data:{user:null,session:null},error:f};const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:h,options:f}=n;s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qd})}else if("phone"in n){const{phone:c,password:h,options:f}=n;s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qd})}else throw new Ai("You must provide either an email or phone number and a password");const{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ii}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,l,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,l,c,h,f,m,v,y,w,S,T;let R,P;if("message"in n)R=n.message,P=n.signature;else{const{chain:E,wallet:M,statement:V,options:U}=n;let L;if(St())if(typeof M=="object")L=M;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))L=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=M}const B=new URL((s=U==null?void 0:U.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in L&&L.signIn){const Z=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),V?{statement:V}:null));let se;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")se=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)se=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)R=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),P=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${B.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(l=(o=U==null?void 0:U.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((v=U==null?void 0:U.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(y=U==null?void 0:U.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const Z=await L.signMessage(new TextEncoder().encode(R),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=Z}}try{const{data:E,error:M}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:hv(P)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Wt});if(M)throw M;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Ii}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:M})}catch(E){if(re(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(n){const s=await Or(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{const{data:c,error:h}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Wt});if(await dr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ii}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(re(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:o,token:l,access_token:c,nonce:h}=n,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wt}),{data:m,error:v}=f;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ii}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:v})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,l,c,h;try{if("email"in n){const{email:f,options:m}=n;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await pn(this.storage,this.storageKey));const{error:w}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in n){const{phone:f,options:m}=n,{data:v,error:y}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y}}throw new Ai("You must provide either an email or phone number.")}catch(f){if(re(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var s,o;try{let l,c;"options"in n&&(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Wt});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var s,o,l;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await pn(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=n==null?void 0:n.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:Rv})}catch(c){if(re(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new hr;const{error:l}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:l,options:c}=n,{error:h}=await ae(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:o,type:l,options:c}=n,{data:h,error:f}=await ae(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new Ai("You must provide either an email or phone number and a type")}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ha:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const h=await Or(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Ja()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,v,y)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,v,y))})}return{data:{session:n},error:null}}const{session:l,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:fr}):await this._useSession(async s=>{var o,l,c;const{data:h,error:f}=s;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:fr})})}catch(s){if(re(s))return sv(s)&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new hr;const h=l.session;let f=null,m=null;this.flowType==="pkce"&&n.email!=null&&([f,m]=await pn(this.storage,this.storageKey));const{data:v,error:y}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:fr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new hr;const s=Date.now()/1e3;let o=s,l=!0,c=null;const{payload:h}=Ka(n.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{session:f,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(re(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:h,error:f}=s;if(f)throw f;n=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new hr;const{session:l,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!St())throw new $i("No browser detected.");if(n.error||n.error_description||n.error_code)throw new $i(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Wd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $i("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Wd("No code detected.");const{data:V,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:f,expires_at:m,token_type:v}=n;if(!c||!f||!h||!v)throw new $i("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(f);let S=y+w;m&&(S=parseInt(m));const T=S-y;T*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${w}s`);const R=S-w;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,S,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,S,y);const{data:P,error:E}=await this._getUser(c);if(E)throw E;const M={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:w,expires_at:S,refresh_token:h,token_type:v,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:n.type},error:null}}catch(o){if(re(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return{error:c};const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,n);if(f&&!(nv(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=pv(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,l;try{const{data:{session:c},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await pn(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(re(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:l}=await this._useSession(async c=>{var h,f,m,v,y;const{data:w,error:S}=c;if(S)throw S;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return St()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:n.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(re(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)throw h;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await yv(async l=>(l>0&&await vv(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Wt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&qa(c)&&Date.now()+h-o<yn})}catch(o){if(this._debug(s,"error",o),re(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),St()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Or(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await wn(this.userStorage,this.storageKey+"-user",h)),l.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Ja()}else if(l&&!l.user&&!l.user){const h=await Or(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await dr(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,l)):l.user=Ja()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ha;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Ha}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),qa(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Mi;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new hr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),re(c)){const h={session:null,error:c};return qa(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,s,o=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,s)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await wn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Jd(l);await wn(this.storage,this.storageKey,c)}else{const l=Jd(s);await wn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await dr(this.storage,this.storageKey),await dr(this.storage,this.storageKey+"-code-verifier"),await dr(this.storage,this.storageKey+"-user"),this.userStorage&&await dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-n)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${yn}ms, refresh threshold is ${il} ticks`),l<=il&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Lh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await pn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?{data:null,error:c}:await ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)return{data:null,error:h};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:v}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:h,error:f}=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(s){if(re(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?{data:null,error:c}:await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(re(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(n==null?void 0:n.factors)||[],l=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:l},error:c}=n;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ka(l.access_token);let f=null;h.aal&&(f=h.aal);let m=f;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const y=h.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(f=>f.kid===n);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===n),o&&this.jwks_cached_at+tv>l)return o;const{data:c,error:h}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(f=>f.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:T,error:R}=await this.getSession();if(R||!T.session)return{data:null,error:R};o=T.session.access_token}const{header:l,payload:c,signature:h,raw:{header:f,payload:m}}=Ka(o);s!=null&&s.allowExpired||jv(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:T}=await this.getUser(o);if(T)throw T;return{data:{claims:c,header:l,signature:h},error:null}}const y=Cv(l.alg),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,h,dv(`${f}.${m}`)))throw new ll("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}}}gs.nextInstanceID=0;const Fv=gs;class Wv extends Fv{constructor(n){super(n)}}var Vv=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(a,n||[])).next())})};class Hv{constructor(n,s,o){var l,c,h;this.supabaseUrl=n,this.supabaseKey=s;const f=Qg(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,v={db:Mg,realtime:Fg,auth:Object.assign(Object.assign({},Bg),{storageKey:m}),global:zg},y=Gg(o??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=qg(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new og(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new $g(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Qm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Vv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,userStorage:c,storageKey:h,flowType:f,lock:m,debug:v},y,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wv({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),y),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,userStorage:c,flowType:f,lock:m,debug:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Sg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qv=(a,n,s)=>new Hv(a,n,s);function Kv(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const n=a.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Kv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jv="https://xdfvzhynofprwystnyhf.supabase.co",Gv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkZnZ6aHlub2Zwcnd5c3RueWhmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1MTYzMjMsImV4cCI6MjA3MzA5MjMyM30.flM2gWPJY4OFZqkAbgg2Go0uScFn9aJ41EXz-e2nZ8U",Q=qv(Jv,Gv),Ih=O.createContext(void 0),Qv=({children:a})=>{const[n,s]=O.useState(null),[o,l]=O.useState(null),[c,h]=O.useState(!0);O.useEffect(()=>{(async()=>{var w;const{data:y}=await Q.auth.getSession();l(y.session),s(((w=y.session)==null?void 0:w.user)??null),h(!1)})();const{data:{subscription:v}}=Q.auth.onAuthStateChange((y,w)=>{l(w),s((w==null?void 0:w.user)??null),h(!1)});return()=>{v.unsubscribe()}},[]);const f=async()=>{await Q.auth.signOut()};return g.jsx(Ih.Provider,{value:{user:n,session:o,loading:c,signOut:f},children:!c&&a})},gr=()=>{const a=O.useContext(Ih);if(!a)throw new Error("useAuth must be used within AuthProvider");return a},Ah=O.createContext(void 0),Yv=({children:a})=>{const{user:n}=gr(),[s,o]=O.useState([]),l=s.filter(f=>!f.read).length;O.useEffect(()=>{if(!n)return;(async()=>{const{data:v,error:y}=await Q.from("notifications").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});!y&&v&&o(v)})();const m=Q.channel(`notifications:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${n.id}`},v=>{o(y=>[v.new,...y])}).subscribe();return()=>{Q.removeChannel(m)}},[n]);const c=async f=>{await Q.from("notifications").update({read:!0}).eq("id",f),o(m=>m.map(v=>v.id===f?{...v,read:!0}:v))},h=async()=>{n&&(await Q.from("notifications").update({read:!0}).eq("user_id",n.id).eq("read",!1),o(f=>f.map(m=>({...m,read:!0}))))};return g.jsx(Ah.Provider,{value:{notifications:s,unreadCount:l,markAsRead:c,markAllAsRead:h},children:a})},$h=()=>{const a=O.useContext(Ah);if(!a)throw new Error("useNotifications must be used within NotificationProvider");return a},Xv=()=>{const{user:a,loading:n}=gr();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"text-lg text-gray-600",children:"Carregando..."})}):a?g.jsx(zm,{}):g.jsx(Dm,{to:"/login",replace:!0})},Zv=()=>{const[a,n]=O.useState(""),[s,o]=O.useState(""),[l,c]=O.useState(!0),[h,f]=O.useState(!1),[m,v]=O.useState(""),[y,w]=O.useState(!1),[S,T]=O.useState(""),R="lunara_terapias@jim.com",P=jt(),E=async L=>{L.preventDefault(),f(!0),v("");try{if(l){const{error:B}=await Q.auth.signInWithPassword({email:a,password:s});if(B)throw B}else{const{error:B}=await Q.auth.signUp({email:a,password:s,options:{emailRedirectTo:window.location.origin}});if(B)throw B;alert("Verifique seu e-mail para confirmar o cadastro.")}P("/")}catch(B){v(B.message||"Erro ao processar a solicitação. Tente novamente.")}finally{f(!1)}},M=async()=>{f(!0);try{const{error:L}=await Q.auth.signInWithOAuth({provider:"google"});if(L)throw L}catch(L){v(L.message||"Erro ao fazer login com o Google.")}finally{f(!1)}},V=async()=>{try{await navigator.clipboard.writeText(R),alert("Chave PIX copiada: "+R)}catch{alert("Não foi possível copiar. Copie manualmente: "+R)}},U=L=>{T(L)};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50 to-purple-50 flex items-center justify-center p-6",children:[g.jsxs("div",{className:"relative w-full max-w-sm mx-auto",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"relative mx-auto mb-4 w-24 h-24",children:[g.jsx("img",{src:"/og-image2.jpg",alt:"Bella Vitta",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg mx-auto"}),g.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white shadow",children:g.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"CONNECT"}),g.jsx("p",{className:"text-gray-500 text-sm",children:"Bella Vitta - Serviços e Vendas"})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[g.jsxs("div",{className:"p-6",children:[m&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:m}),g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsx("input",{type:"email",name:"email",placeholder:"Email",value:a,onChange:L=>n(L.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),g.jsx("input",{type:"password",name:"password",placeholder:"Senha",value:s,onChange:L=>o(L.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),g.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium text-sm transition disabled:opacity-50",children:h?l?"Entrando...":"Criando conta...":l?"Entrar":"Cadastrar"})]}),g.jsx("div",{className:"text-center mt-4",children:g.jsx("a",{href:"#",className:"text-sm text-blue-500 hover:text-blue-600",children:"Esqueceu a senha?"})})]}),g.jsx("div",{className:"px-6 pb-6",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"flex-1 border-t border-gray-200"}),g.jsx("span",{className:"px-3 text-gray-400 text-xs",children:"ou"}),g.jsx("div",{className:"flex-1 border-t border-gray-200"})]})}),g.jsx("div",{className:"px-6 pb-6",children:g.jsxs("button",{onClick:M,disabled:h,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 py-3 rounded-lg text-sm hover:bg-gray-50 transition disabled:opacity-50",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar com Google"]})})]}),g.jsx("div",{className:"text-center mt-6",children:g.jsxs("span",{className:"text-gray-600 text-sm",children:[l?"Não tem uma conta?":"Já tem uma conta?"," ",g.jsx("button",{onClick:()=>c(!l),className:"text-blue-500 font-semibold hover:text-blue-600",children:l?"Cadastre-se":"Entrar"})]})}),g.jsx("div",{className:"text-center mt-8",children:g.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full hover:from-purple-600 hover:to-pink-600 transition shadow-md text-sm font-medium",children:[g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),"Apoiar o Criador"]})})]}),y&&g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full shadow-2xl transform transition-all scale-100",children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[g.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:g.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})})}),"Apoiar este projeto"]}),g.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:g.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),g.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Este app não foi feito por robôs (ainda) — foi no suor, dedicação e algumas horas de café. Se quiser retribuir, aceitamos PIX! ☕"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Valores sugeridos:"}),g.jsx("div",{className:"grid grid-cols-3 gap-3",children:["5","10","20"].map(L=>g.jsxs("button",{onClick:()=>U(L),className:`p-4 rounded-xl border-2 text-center font-medium transition-all ${S===L?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:["R$ ",L]},L))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"valorPersonalizado",className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor personalizado ☕:"}),g.jsx("input",{type:"number",id:"valorPersonalizado",value:S,onChange:L=>T(L.target.value),placeholder:"Digite o valor",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all"})]}),g.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-4 border border-gray-200",children:[g.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[g.jsxs("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:[g.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),g.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Chave PIX:"]}),g.jsx("div",{className:"text-sm text-gray-900 font-mono break-all bg-white p-3 rounded-lg border border-gray-300",children:R})]}),g.jsx("div",{children:g.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copiar PIX"]})}),g.jsxs("div",{className:"text-center pt-4 border-t border-gray-100",children:[g.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obrigado! Seu apoio mantém este projeto vivo. 🚀"}),g.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(5)].map((L,B)=>g.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.785.57-1.84-.197-1.54-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},B))})]})]}),g.jsx("div",{className:"p-6 bg-gray-50 rounded-b-3xl",children:g.jsx("button",{onClick:()=>w(!1),className:"w-full py-3 rounded-xl border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 font-medium transition-all",children:"Fechar"})})]})})]})},Bi=({post:a})=>{const{user:n}=gr(),[s,o]=O.useState(a.liked),[l,c]=O.useState(a.likes),[h,f]=O.useState(a.saved),[m,v]=O.useState(""),[y,w]=O.useState(a.comments);O.useEffect(()=>{o(a.liked),c(a.likes),f(a.saved),w(a.comments)},[a]);const S=async()=>{var P;if(n)if(s){const{error:E}=await Q.from("likes").delete().match({user_id:n.id,post_id:a.id});E||(o(!1),c(M=>Math.max(0,M-1)))}else{const{error:E}=await Q.from("likes").insert({user_id:n.id,post_id:a.id});E||(o(!0),c(M=>M+1),a.user_id!==n.id&&await Q.from("notifications").insert({user_id:a.user_id,type:"like",message:`${n.user_metadata.full_name||((P=n.email)==null?void 0:P.split("@")[0])} curtiu seu post.`}))}},T=async()=>{if(n)if(h){const{error:P}=await Q.from("saved_posts").delete().match({user_id:n.id,post_id:a.id});P||f(!1)}else{const{error:P}=await Q.from("saved_posts").insert({user_id:n.id,post_id:a.id});P||f(!0)}},R=async P=>{var M;if(P.preventDefault(),!n||!m.trim())return;const{error:E}=await Q.from("comments").insert({post_id:a.id,user_id:n.id,content:m.trim()});E||(v(""),a.user_id!==n.id&&await Q.from("notifications").insert({user_id:a.user_id,type:"comment",message:`${n.user_metadata.full_name||((M=n.email)==null?void 0:M.split("@")[0])} comentou em seu post.`}))};return g.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[g.jsxs("div",{className:"p-4 flex items-center space-x-3",children:[g.jsx("img",{src:a.avatar,alt:a.author,className:"w-10 h-10 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-gray-900",children:a.author}),g.jsxs("p",{className:"text-xs text-gray-500",children:["@",a.username," · ",a.timestamp]})]})]}),g.jsx("div",{className:"px-4 pb-3",children:g.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:a.content})}),a.image&&g.jsx("div",{className:"px-4 pb-3",children:g.jsx("img",{src:a.image,alt:"Post content",className:"w-full rounded-lg object-cover max-h-[500px]"})}),g.jsxs("div",{className:"px-4 py-2 flex justify-between border-t border-gray-100",children:[g.jsxs("button",{onClick:S,className:`flex items-center space-x-1 ${s?"text-red-500":"text-gray-500 hover:text-red-500"}`,disabled:!n,children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:s?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),g.jsx("span",{className:"text-sm",children:l})]}),g.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-blue-500",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),g.jsx("span",{className:"text-sm",children:y.length})]}),g.jsx("button",{onClick:T,className:`flex items-center space-x-1 ${h?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:h?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]}),y.length>0&&g.jsx("div",{className:"px-4 py-2 bg-gray-50 max-h-40 overflow-y-auto",children:y.map(P=>g.jsx("div",{className:"mb-2 last:mb-0",children:g.jsxs("p",{className:"text-sm",children:[g.jsxs("span",{className:"font-semibold",children:[P.author,":"]})," ",g.jsx("span",{children:P.text})]})},P.id))}),g.jsxs("form",{onSubmit:R,className:"p-4 border-t border-gray-100 flex space-x-2",children:[g.jsx("input",{type:"text",value:m,onChange:P=>v(P.target.value),placeholder:n?"Escreva um comentário...":"Faça login para comentar...",className:"flex-1 text-sm border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500",disabled:!n}),g.jsx("button",{type:"submit",disabled:!n||!m.trim(),className:"text-sm bg-emerald-600 text-white px-4 rounded-full hover:bg-emerald-700 disabled:opacity-50",children:"Enviar"})]})]})},Uh=()=>{const[a,n]=O.useState([]),[s,o]=O.useState(!0),l=async()=>{o(!0);try{const{data:c}=await Q.auth.getUser(),h=c==null?void 0:c.user,{data:f,error:m}=await Q.from("posts").select(`
          id,
          content,
          image_url,
          created_at,
          user_id,
          profiles (
            username,
            full_name,
            avatar_url
          )
        `).order("created_at",{ascending:!1});if(m)throw m;const v=f.map(P=>P.id);let y={};if(v.length>0){const{data:P}=await Q.from("likes").select("post_id");y=(P||[]).reduce((E,M)=>(E[M.post_id]=(E[M.post_id]||0)+1,E),{})}let w=new Set;if(h&&v.length>0){const{data:P}=await Q.from("likes").select("post_id").eq("user_id",h.id);w=new Set((P||[]).map(E=>E.post_id))}let S=new Set;if(h&&v.length>0){const{data:P}=await Q.from("saved_posts").select("post_id").in("post_id",v).eq("user_id",h.id);S=new Set((P||[]).map(E=>E.post_id))}let T={};if(v.length>0){const{data:P}=await Q.from("comments").select(`
            id,
            post_id,
            content,
            created_at,
            user_id,
            profiles (
              full_name,
              username,
              avatar_url
            )
          `).in("post_id",v).order("created_at",{ascending:!0});T=(P||[]).reduce((E,M)=>{const V=M.post_id;return E[V]||(E[V]=[]),E[V].push(M),E},{})}const R=f.map(P=>{const E=P.profiles,M=T[P.id]||[];return{id:P.id,user_id:P.user_id,author:(E==null?void 0:E.full_name)||(E==null?void 0:E.username)||"Usuário",username:(E==null?void 0:E.username)||"usuario",avatar:(E==null?void 0:E.avatar_url)||`https://placehold.co/100x100/10b981/white?text=${((E==null?void 0:E.username)||"U")[0]}`,content:P.content,image:P.image_url||void 0,timestamp:new Date(P.created_at).toLocaleDateString("pt-BR"),likes:y[P.id]||0,liked:w.has(P.id),saved:S.has(P.id),comments:M.map(V=>{var U,L,B,Z;return{id:V.id,author:((U=V.profiles)==null?void 0:U.full_name)||((L=V.profiles)==null?void 0:L.username)||"Alguém",avatar:((B=V.profiles)==null?void 0:B.avatar_url)||`https://placehold.co/40x40/3b82f6/white?text=${(((Z=V.profiles)==null?void 0:Z.username)||"A")[0]}`,text:V.content,timestamp:new Date(V.created_at).toLocaleDateString("pt-BR")}})}});n(R)}catch(c){console.error("Erro ao carregar posts:",c)}finally{o(!1)}};return O.useEffect(()=>{l();const c=Q.channel("posts-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"posts"},l).on("postgres_changes",{event:"UPDATE",schema:"public",table:"posts"},l).subscribe(),h=Q.channel("likes-channel").on("postgres_changes",{event:"*",schema:"public",table:"likes"},l).subscribe(),f=Q.channel("comments-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},l).subscribe(),m=Q.channel("saved-channel").on("postgres_changes",{event:"*",schema:"public",table:"saved_posts"},l).subscribe();return()=>{Q.removeChannel(c),Q.removeChannel(h),Q.removeChannel(f),Q.removeChannel(m)}},[]),{posts:a,loading:s,refetch:l}},e0=()=>{const[a,n]=O.useState(null),[s,o]=O.useState(!1);return O.useEffect(()=>{const c=h=>{h.preventDefault(),n(h),o(!0)};return window.addEventListener("beforeinstallprompt",c),()=>window.removeEventListener("beforeinstallprompt",c)},[]),{isInstallable:s,install:()=>{a&&(a.prompt(),a.userChoice.then(()=>{n(null),o(!1)}))}}};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r0=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,o)=>o?o.toUpperCase():s.toLowerCase()),Zd=a=>{const n=r0(a);return n.charAt(0).toUpperCase()+n.slice(1)},Dh=(...a)=>a.filter((n,s,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===s).join(" ").trim(),n0=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=O.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:h,...f},m)=>O.createElement("svg",{ref:m,...s0,width:n,height:n,stroke:a,strokeWidth:o?Number(s)*24/Number(n):s,className:Dh("lucide",l),...!c&&!n0(f)&&{"aria-hidden":"true"},...f},[...h.map(([v,y])=>O.createElement(v,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(a,n)=>{const s=O.forwardRef(({className:o,...l},c)=>O.createElement(i0,{ref:c,iconNode:n,className:Dh(`lucide-${t0(Zd(a))}`,`lucide-${a}`,o),...l}));return s.displayName=Zd(a),s};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],a0=Sn("bell",o0);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],u0=Sn("bookmark",l0);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],d0=Sn("house",c0);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],f0=Sn("message-circle",h0);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m0=Sn("search",p0);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],v0=Sn("user",g0),y0=()=>{var h,f;const a=jt(),{user:n,signOut:s}=gr(),{unreadCount:o}=$h(),l=[{icon:d0,path:"/",label:"Início"},{icon:m0,path:"/explore",label:"Explorar"},{icon:f0,path:"/messages",label:"Mensagens"},{icon:u0,path:"/saved",label:"Salvos"}],c=((h=n==null?void 0:n.user_metadata)==null?void 0:h.username)||((f=n==null?void 0:n.email)==null?void 0:f.split("@")[0])||"usuario";return g.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 w-full max-w-md mx-auto",children:g.jsxs("div",{className:"flex justify-around items-center py-3",children:[l.map(m=>g.jsxs("button",{onClick:()=>a(m.path),className:"flex flex-col items-center text-gray-500 hover:text-emerald-600",children:[g.jsx(m.icon,{size:20}),g.jsx("span",{className:"text-xs mt-1",children:m.label})]},m.label)),g.jsxs("button",{onClick:()=>a(`/profile/${c}`),className:"flex flex-col items-center text-gray-500 hover:text-emerald-600",children:[g.jsx(v0,{size:20}),g.jsx("span",{className:"text-xs mt-1",children:"Perfil"})]}),g.jsxs("button",{onClick:()=>a("/notifications"),className:"relative flex flex-col items-center text-gray-500 hover:text-emerald-600",children:[g.jsx(a0,{size:20}),o>0&&g.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o>9?"9+":o}),g.jsx("span",{className:"text-xs mt-1",children:"Notif."})]}),g.jsxs("button",{onClick:s,className:"flex flex-col items-center text-gray-500 hover:text-red-500",children:[g.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-white text-xs",children:"S"})}),g.jsx("span",{className:"text-xs mt-1",children:"Sair"})]})]})})},w0=()=>{const a=jt(),{user:n}=gr(),{posts:s,loading:o}=Uh(),{isInstallable:l,install:c}=e0();return o?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsx("div",{className:"text-lg text-gray-600",children:"Carregando posts..."})}):g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-16",children:[g.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[g.jsx("h1",{className:"text-xl font-bold text-emerald-800",children:"Bella Vitta"}),n&&g.jsx("button",{onClick:()=>a("/create"),className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-emerald-700",children:"Novo Post"})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:s.length===0?g.jsx("p",{className:"text-center text-gray-500 mt-8",children:n?"Nenhum post ainda.":"Faça login para ver os posts da comunidade."}):s.map(h=>g.jsx(Bi,{post:h},h.id))}),l&&n&&g.jsx("button",{onClick:c,className:"fixed bottom-20 right-4 bg-emerald-600 text-white p-3 rounded-full shadow-lg z-50 hover:bg-emerald-700 transition","aria-label":"Instalar aplicativo",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),g.jsx(y0,{})]})},_0=a=>{const[n,s]=O.useState(null),[o,l]=O.useState(!0),[c,h]=O.useState(null),f=async()=>{l(!0),h(null);try{const{data:y,error:w}=await Q.from("profiles").select("*").eq("username",a).single();if(w)throw w;s({id:y.id,username:y.username,full_name:y.full_name||"",avatar_url:y.avatar_url||`https://placehold.co/400x400/10b981/white?text=${a[0]}`})}catch(y){console.error("Erro ao carregar perfil:",y),h("Usuário não encontrado.")}finally{l(!1)}};O.useEffect(()=>{a&&f()},[a]);const m=async y=>{if(!n)return!1;try{const{error:w}=await Q.from("profiles").update(y).eq("id",n.id);if(w)throw w;return s(S=>S?{...S,...y}:null),!0}catch(w){return console.error("Erro ao atualizar perfil:",w),!1}};return{profile:n,loading:o,error:c,updateProfile:m,uploadAvatar:async y=>{if(!n)return null;try{const w=y.name.split(".").pop(),T=`avatars/${`${n.id}/avatar.${w}`}`,{error:R}=await Q.storage.from("avatars").upload(T,y,{upsert:!0});if(R)throw R;const{data:P}=Q.storage.from("avatars").getPublicUrl(T);return await m({avatar_url:P.publicUrl}),P.publicUrl}catch(w){return console.error("Erro ao fazer upload do avatar:",w),null}}}},x0=()=>{const{username:a}=hh(),n=jt(),{user:s}=gr(),{profile:o,loading:l,error:c,updateProfile:h,uploadAvatar:f}=_0(a||""),{posts:m,loading:v}=Uh(),[y,w]=O.useState(!1),[S,T]=O.useState({full_name:"",username:""}),R=O.useRef(null),P=(s==null?void 0:s.id)===(o==null?void 0:o.id),E=()=>{o&&(T({full_name:o.full_name,username:o.username}),w(!0))},M=async()=>{if(!S.full_name.trim())return;await h({full_name:S.full_name.trim(),username:S.username.trim()})&&w(!1)},V=m.filter(U=>U.user_id===(o==null?void 0:o.id));return l?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Carregando..."}):c?g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[g.jsx("p",{className:"text-red-500",children:c}),g.jsx("button",{onClick:()=>n("/"),className:"mt-4 text-emerald-600",children:"Voltar"})]}):g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm",children:g.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center",children:[g.jsx("button",{onClick:()=>n(-1),className:"mr-4",children:"←"}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:o==null?void 0:o.avatar_url,alt:o==null?void 0:o.full_name,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),P&&g.jsx("button",{onClick:()=>{var U;return(U=R.current)==null?void 0:U.click()},className:"absolute bottom-0 right-0 bg-emerald-600 text-white rounded-full p-1 shadow",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),g.jsx("input",{type:"file",ref:R,onChange:U=>{var L;(L=U.target.files)!=null&&L[0]&&f(U.target.files[0])},className:"hidden",accept:"image/*"})]}),g.jsx("div",{children:y?g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",value:S.full_name,onChange:U=>T({...S,full_name:U.target.value}),className:"border border-gray-300 rounded px-2 py-1 w-full",placeholder:"Nome completo"}),g.jsx("input",{type:"text",value:S.username,onChange:U=>T({...S,username:U.target.value}),className:"border border-gray-300 rounded px-2 py-1 w-full",placeholder:"Username"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:M,className:"bg-emerald-600 text-white px-3 py-1 rounded text-sm",children:"Salvar"}),g.jsx("button",{onClick:()=>w(!1),className:"bg-gray-300 text-gray-700 px-3 py-1 rounded text-sm",children:"Cancelar"})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("h1",{className:"text-xl font-bold",children:o==null?void 0:o.full_name}),g.jsxs("p",{className:"text-gray-600",children:["@",o==null?void 0:o.username]}),P&&g.jsx("button",{onClick:E,className:"mt-2 bg-emerald-600 text-white px-3 py-1 rounded-full text-sm",children:"Editar perfil"})]})})]})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:v?g.jsx("p",{className:"text-center text-gray-500",children:"Carregando posts..."}):V.length===0?g.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Nenhum post ainda."}):V.map(U=>g.jsx(Bi,{post:U},U.id))})]})},k0=()=>{const[a,n]=O.useState([]),[s,o]=O.useState(!0),l=jt();return O.useEffect(()=>{(async()=>{try{const{data:h,error:f}=await Q.from("posts").select(`
            id,
            content,
            image_url,
            created_at,
            user_id,
            profiles (
              username,
              full_name,
              avatar_url
            )
          `).order("created_at",{ascending:!1});if(!f&&h){const m=h.map(v=>{var y,w,S,T,R;return{id:v.id,user_id:v.user_id,author:((y=v.profiles)==null?void 0:y.full_name)||((w=v.profiles)==null?void 0:w.username)||"Usuário",username:((S=v.profiles)==null?void 0:S.username)||"usuario",avatar:((T=v.profiles)==null?void 0:T.avatar_url)||`https://placehold.co/100x100/10b981/white?text=${(((R=v.profiles)==null?void 0:R.username)||"U")[0]}`,content:v.content,image:v.image_url||void 0,timestamp:new Date(v.created_at).toLocaleDateString("pt-BR"),likes:0,liked:!1,saved:!1,comments:[]}});n(m)}}catch(h){console.error("Erro ao carregar posts:",h)}finally{o(!1)}})()},[]),g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center",children:[g.jsx("button",{onClick:()=>l(-1),className:"mr-4",children:"←"}),g.jsx("h1",{className:"text-lg font-semibold",children:"Explorar"})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:s?g.jsx("p",{className:"text-center text-gray-500",children:"Carregando..."}):a.length===0?g.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Nenhum post encontrado."}):a.map(c=>g.jsx(Bi,{post:c},c.id))})]})},S0=()=>{const[a,n]=O.useState([]),[s,o]=O.useState(!0),l=async()=>{o(!0);try{const{data:c,error:h}=await Q.auth.getUser();if(h||!(c!=null&&c.user)){n([]),o(!1);return}const f=c.user,{data:m,error:v}=await Q.rpc("get_user_conversations",{current_user_id:f.id});if(v)throw v;const y=m.map(w=>{var S;return{id:w.other_user_id,other_user_id:w.other_user_id,other_user:{username:w.username,full_name:w.full_name,avatar_url:w.avatar_url||`https://placehold.co/100x100/3b82f6/white?text=${((S=w.username)==null?void 0:S[0])||"U"}`},last_message:w.last_message,last_message_at:w.last_message_at?new Date(w.last_message_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):""}});n(y)}catch(c){console.error("Erro ao carregar conversas:",c),n([])}finally{o(!1)}};return O.useEffect(()=>{l();const c=Q.channel("messages-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},()=>l()).subscribe();return()=>{Q.removeChannel(c)}},[]),{conversations:a,loading:s}},E0=a=>{const[n,s]=O.useState([]),[o,l]=O.useState(!0),c=async()=>{if(!a){s([]),l(!1);return}l(!0);try{const{data:h,error:f}=await Q.auth.getUser();if(f||!(h!=null&&h.user))return;const m=h.user,{data:v,error:y}=await Q.from("messages").select(`
          id,
          sender_id,
          content,
          created_at,
          profiles (
            username,
            full_name,
            avatar_url
          )
        `).or(`and(sender_id.eq.${m.id},receiver_id.eq.${a}),and(sender_id.eq.${a},receiver_id.eq.${m.id})`).order("created_at",{ascending:!0});if(y)throw y;const w=v.map(S=>{var T,R,P,E,M;return{id:S.id,sender_id:S.sender_id,sender:{username:((T=S.profiles)==null?void 0:T.username)||"Usuário",full_name:((R=S.profiles)==null?void 0:R.full_name)||"Usuário",avatar_url:((P=S.profiles)==null?void 0:P.avatar_url)||`https://placehold.co/40x40/3b82f6/white?text=${((M=(E=S.profiles)==null?void 0:E.username)==null?void 0:M[0])||"U"}`},content:S.content,created_at:new Date(S.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),is_own:S.sender_id===m.id}});s(w)}catch(h){console.error("Erro ao carregar mensagens:",h)}finally{l(!1)}};return O.useEffect(()=>{if(c(),!a)return;const h=Q.channel(`messages-${a}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`or(sender_id.eq.${a},receiver_id.eq.${a})`},()=>c()).subscribe();return()=>{Q.removeChannel(h)}},[a]),{messages:n,loading:o,refetch:c}},j0=()=>{const{userId:a}=hh(),n=jt(),{user:s}=gr(),{conversations:o,loading:l}=S0(),{messages:c,loading:h}=E0(a||null),[f,m]=O.useState(""),v=async w=>{if(w.preventDefault(),!a||!s||!f.trim())return;const{error:S}=await Q.from("messages").insert({sender_id:s.id,receiver_id:a,content:f.trim()});S||(m(""),await Q.from("notifications").insert({user_id:a,type:"message",message:`${s.user_metadata.full_name||"Alguém"} te enviou uma mensagem.`}))},y=o.find(w=>w.other_user_id===a);return g.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[g.jsxs("div",{className:"w-full md:w-80 bg-white border-r border-gray-200 flex flex-col",children:[g.jsx("div",{className:"p-4 border-b border-gray-200",children:g.jsx("h1",{className:"text-lg font-semibold",children:"Mensagens"})}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:l?g.jsx("div",{className:"p-4 text-gray-500",children:"Carregando..."}):o.length===0?g.jsx("div",{className:"p-4 text-gray-500",children:"Nenhuma conversa ainda."}):o.map(w=>g.jsx("div",{onClick:()=>n(`/messages/${w.other_user_id}`),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${a===w.other_user_id?"bg-blue-50":""}`,children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("img",{src:w.other_user.avatar_url,alt:w.other_user.full_name,className:"w-12 h-12 rounded-full object-cover"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium text-gray-900 truncate",children:w.other_user.full_name}),g.jsx("p",{className:"text-sm text-gray-500 truncate",children:w.last_message})]}),w.last_message_at&&g.jsx("span",{className:"text-xs text-gray-400",children:w.last_message_at})]})},w.other_user_id))})]}),g.jsx("div",{className:"flex-1 flex flex-col",children:a?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:y?g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("img",{src:y.other_user.avatar_url,alt:y.other_user.full_name,className:"w-10 h-10 rounded-full object-cover"}),g.jsx("h2",{className:"font-semibold",children:y.other_user.full_name})]}):g.jsx("h2",{className:"font-semibold",children:"Selecione uma conversa"})}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:h?g.jsx("div",{className:"text-center py-4 text-gray-500",children:"Carregando mensagens..."}):c.length===0?g.jsx("div",{className:"text-center py-8 text-gray-500",children:"Inicie uma conversa!"}):c.map(w=>g.jsxs("div",{className:`mb-4 flex ${w.is_own?"justify-end":"justify-start"}`,children:[!w.is_own&&g.jsx("img",{src:w.sender.avatar_url,alt:w.sender.full_name,className:"w-8 h-8 rounded-full object-cover mr-2"}),g.jsxs("div",{className:`max-w-xs md:max-w-md px-4 py-2 rounded-2xl ${w.is_own?"bg-emerald-500 text-white rounded-tr-none":"bg-white text-gray-800 rounded-tl-none"}`,children:[g.jsx("p",{children:w.content}),g.jsx("p",{className:`text-xs mt-1 ${w.is_own?"text-emerald-100":"text-gray-500"}`,children:w.created_at})]}),w.is_own&&g.jsx("div",{className:"w-8"})]},w.id))}),g.jsx("form",{onSubmit:v,className:"p-4 bg-white border-t border-gray-200",children:g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("input",{type:"text",value:f,onChange:w=>m(w.target.value),placeholder:"Escreva uma mensagem...",className:"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),g.jsx("button",{type:"submit",disabled:!f.trim(),className:"bg-emerald-600 text-white px-4 rounded-full hover:bg-emerald-700 disabled:opacity-50",children:"Enviar"})]})})]}):g.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:g.jsx("p",{children:"Selecione uma conversa para começar a conversar."})})})]})},C0=()=>{const a=jt(),{notifications:n,unreadCount:s,markAllAsRead:o}=$h();O.useEffect(()=>{s>0&&o()},[s,o]);const l=c=>{switch(c){case"like":return"❤️";case"comment":return"💬";case"follow":return"👥";case"message":return"📩";default:return"🔔"}};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{onClick:()=>a(-1),className:"mr-4 text-gray-600 text-xl",children:"←"}),g.jsx("h1",{className:"text-lg font-semibold",children:"Notificações"})]}),n.length>0&&g.jsx("button",{onClick:o,className:"text-emerald-600 text-sm font-medium",children:"Marcar tudo como lido"})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-5xl mb-4",children:"🔕"}),g.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Nenhuma notificação"}),g.jsx("p",{className:"text-gray-500 mt-2",children:"Você será notificado quando alguém interagir com você."})]}):g.jsx("div",{className:"space-y-4",children:n.map(c=>g.jsx("div",{className:`p-4 rounded-xl border ${c.read?"bg-white border-gray-200":"bg-blue-50 border-blue-200"}`,children:g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("span",{className:"text-xl",children:l(c.type)}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-gray-800",children:c.message}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.created_at})]})]})},c.id))})})]})},b0=()=>g.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm",children:g.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-emerald-800",children:"Bella Vitta"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Serviços e Vendas em Araraquara/SP"})]}),g.jsx("div",{className:"text-right text-sm text-gray-500 hidden md:block",children:g.jsx("p",{children:"📍 Araraquara, São Paulo"})})]})}),g.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[g.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-200",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mapa de Atendimento"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Visualize nossa área de cobertura e pontos de interesse em Araraquara."})]}),g.jsx("div",{className:"w-full h-[500px] md:h-[600px]",children:g.jsx("iframe",{title:"Bella Vitta - Mapa de Serviços",src:"https://www.google.com/maps/d/u/0/embed?mid=1XFELlB7i9JmH3FVd6wR3O8HQ1nAdTSo&ehbc=2E312F",width:"100%",height:"100%",style:{border:0,minHeight:"400px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})}),g.jsx("footer",{className:"bg-gray-800 text-white py-5",children:g.jsxs("div",{className:"container mx-auto px-4 text-center text-sm",children:[g.jsxs("p",{children:["© ",new Date().getFullYear()," Bella Vitta. Todos os direitos reservados."]}),g.jsx("p",{className:"mt-1 opacity-80",children:"Plataforma de serviços e vendas em Araraquara/SP"})]})})]}),P0=()=>{const[a,n]=O.useState(""),[s,o]=O.useState(null),[l,c]=O.useState(null),[h,f]=O.useState(!1),[m,v]=O.useState(null),y=jt(),{user:w}=gr(),S=P=>{if(v(null),P.target.files&&P.target.files[0]){const E=P.target.files[0];if(!E.type.startsWith("image/")){v("Por favor, selecione uma imagem válida (JPEG, PNG, etc.).");return}if(E.size>5*1024*1024){v("A imagem deve ter no máximo 5MB.");return}o(E),c(URL.createObjectURL(E))}},T=()=>{o(null),c(null),v(null)},R=async P=>{if(P.preventDefault(),!w)return;if(!a.trim()&&!s){v("Adicione um texto ou uma imagem.");return}f(!0),v(null);let E="";try{if(s){const V=s.name.split(".").pop(),L=`posts/${`${w.id}/${Date.now()}.${V}`}`,{error:B}=await Q.storage.from("posts").upload(L,s,{upsert:!1});if(B)throw B;const{data:Z}=Q.storage.from("posts").getPublicUrl(L);E=Z.publicUrl}const{error:M}=await Q.from("posts").insert({user_id:w.id,content:a.trim()||null,image_url:E||null});if(M)throw M;n(""),o(null),c(null),y("/")}catch(M){console.error("Erro ao criar post:",M),v("Erro ao publicar. Tente novamente.")}finally{f(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center",children:[g.jsx("button",{onClick:()=>y(-1),className:"mr-4 text-gray-600 text-xl",children:"←"}),g.jsx("h1",{className:"text-lg font-semibold",children:"Criar Postagem"})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:g.jsxs("form",{onSubmit:R,className:"bg-white rounded-xl shadow-sm p-4",children:[g.jsx("textarea",{value:a,onChange:P=>n(P.target.value),placeholder:"Compartilhe uma atualização, serviço ou promoção...",className:"w-full h-32 p-3 text-gray-800 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",disabled:h}),l&&g.jsxs("div",{className:"mt-4 relative inline-block",children:[g.jsx("img",{src:l,alt:"Pré-visualização",className:"w-full max-w-xs rounded-lg max-h-64 object-contain border"}),g.jsx("button",{type:"button",onClick:T,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",disabled:h,children:"×"})]}),m&&g.jsx("p",{className:"mt-2 text-red-500 text-sm",children:m}),g.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[g.jsxs("label",{className:"flex items-center space-x-2 text-gray-600 cursor-pointer w-fit",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.jsx("span",{children:"Anexar imagem"}),g.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",disabled:h})]}),g.jsx("button",{type:"submit",disabled:h||!a.trim()&&!s,className:"bg-emerald-600 text-white px-6 py-2 rounded-full font-medium hover:bg-emerald-700 disabled:opacity-50 flex items-center gap-2",children:h?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Publicando..."]}):"Publicar"})]})]})})]})},N0=()=>{const[a,n]=O.useState(!1),s=jt(),o=async l=>{n(!0);try{console.log("Inscrição no plano:",l),alert(`Inscrição no plano ${l} realizada com sucesso!`),s("/")}catch(c){console.error("Erro na inscrição:",c)}finally{n(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center",children:[g.jsx("button",{onClick:()=>s(-1),className:"mr-4",children:"←"}),g.jsx("h1",{className:"text-lg font-semibold",children:"Planos"})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[g.jsx("h2",{className:"text-xl font-bold mb-4",children:"Escolha seu plano"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsx("h3",{className:"font-semibold",children:"Básico"}),g.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Acesso limitado"}),g.jsx("button",{onClick:()=>o("basic"),disabled:a,className:"mt-2 bg-gray-200 text-gray-800 px-4 py-2 rounded-full text-sm",children:"Selecionar"})]}),g.jsxs("div",{className:"border-2 border-emerald-500 rounded-lg p-4",children:[g.jsx("h3",{className:"font-semibold text-emerald-700",children:"Premium"}),g.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Todos os recursos"}),g.jsx("button",{onClick:()=>o("premium"),disabled:a,className:"mt-2 bg-emerald-600 text-white px-4 py-2 rounded-full text-sm hover:bg-emerald-700",children:a?"Processando...":"Selecionar"})]})]})]})})]})},T0=()=>{const[a,n]=O.useState([]),[s,o]=O.useState(!0),l=async()=>{o(!0);try{const{data:c,error:h}=await Q.auth.getUser();if(h||!(c!=null&&c.user)){n([]),o(!1);return}const f=c.user,{data:m,error:v}=await Q.from("saved_posts").select("post_id").eq("user_id",f.id);if(v)throw v;const y=m.map(L=>L.post_id);if(y.length===0){n([]),o(!1);return}const{data:w,error:S}=await Q.from("posts").select(`
          id,
          content,
          image_url,
          created_at,
          user_id,
          profiles (
            username,
            full_name,
            avatar_url
          )
        `).in("id",y).order("created_at",{ascending:!1});if(S)throw S;const{data:T}=await Q.from("likes").select("post_id").eq("user_id",f.id),R=new Set((T||[]).map(L=>L.post_id)),{data:P}=await Q.from("likes").select("post_id").in("post_id",y),E=(P||[]).reduce((L,B)=>(L[B.post_id]=(L[B.post_id]||0)+1,L),{}),{data:M}=await Q.from("comments").select(`
          id,
          post_id,
          content,
          created_at,
          user_id,
          profiles (
            full_name,
            username,
            avatar_url
          )
        `).in("post_id",y).order("created_at",{ascending:!0}),V=(M||[]).reduce((L,B)=>(L[B.post_id]||(L[B.post_id]=[]),L[B.post_id].push(B),L),{}),U=w.map(L=>{const B=L.profiles,Z=V[L.id]||[];return{id:L.id,user_id:L.user_id,author:(B==null?void 0:B.full_name)||(B==null?void 0:B.username)||"Usuário",username:(B==null?void 0:B.username)||"usuario",avatar:(B==null?void 0:B.avatar_url)||`https://placehold.co/100x100/10b981/white?text=${((B==null?void 0:B.username)||"U")[0]}`,content:L.content,image:L.image_url||void 0,timestamp:new Date(L.created_at).toLocaleDateString("pt-BR"),likes:E[L.id]||0,liked:R.has(L.id),saved:!0,comments:Z.map(se=>{var Se,pt,ot,Ct;return{id:se.id,author:((Se=se.profiles)==null?void 0:Se.full_name)||((pt=se.profiles)==null?void 0:pt.username)||"Alguém",avatar:((ot=se.profiles)==null?void 0:ot.avatar_url)||`https://placehold.co/40x40/3b82f6/white?text=${(((Ct=se.profiles)==null?void 0:Ct.username)||"A")[0]}`,text:se.content,timestamp:new Date(se.created_at).toLocaleDateString("pt-BR")}})}});n(U)}catch(c){console.error("Erro ao carregar posts salvos:",c),n([])}finally{o(!1)}};return O.useEffect(()=>{l();const c=Q.channel("saved-posts-channel").on("postgres_changes",{event:"*",schema:"public",table:"saved_posts"},()=>l()).subscribe();return()=>{Q.removeChannel(c)}},[]),{posts:a,loading:s}},O0=()=>{const a=jt(),{posts:n,loading:s}=T0();return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:g.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center",children:[g.jsx("button",{onClick:()=>a(-1),className:"mr-4 text-gray-600 text-xl",children:"←"}),g.jsx("h1",{className:"text-lg font-semibold",children:"Posts Salvos"})]})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:s?g.jsx("div",{className:"text-center py-12 text-gray-600",children:"Carregando..."}):n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-5xl mb-4",children:"📌"}),g.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Nenhum post salvo"}),g.jsx("p",{className:"text-gray-500 mt-2",children:"Salve posts que você quer ver depois clicando no ícone de marcador."})]}):n.map(o=>g.jsx(Bi,{post:o},o.id))})]})};function R0(){return g.jsx(Qv,{children:g.jsx(Yv,{children:g.jsx(Vm,{children:g.jsx("div",{className:"min-h-screen bg-white",children:g.jsxs(Bm,{children:[g.jsx(ft,{path:"/login",element:g.jsx(Zv,{})}),g.jsx(ft,{path:"/map",element:g.jsx(b0,{})}),g.jsxs(ft,{element:g.jsx(Xv,{}),children:[g.jsx(ft,{index:!0,element:g.jsx(w0,{})}),g.jsx(ft,{path:"/profile/:username",element:g.jsx(x0,{})}),g.jsx(ft,{path:"/explore",element:g.jsx(k0,{})}),g.jsx(ft,{path:"/messages/*",element:g.jsx(j0,{})}),g.jsx(ft,{path:"/notifications",element:g.jsx(C0,{})}),g.jsx(ft,{path:"/create",element:g.jsx(P0,{})}),g.jsx(ft,{path:"/saved",element:g.jsx(O0,{})}),g.jsx(ft,{path:"/subscription",element:g.jsx(N0,{})})]})]})})})})})}const L0=Kp.createRoot(document.getElementById("root"));L0.render(g.jsx(eh.StrictMode,{children:g.jsx(R0,{})}));
